<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Style-Type" content="text/css">
<META http-equiv="Content-Type" Content="text/html; charset=ISO-8859-1">
<title>Code files in    c:\cdisc_pilot\SAS_Macros\</title>
<style type="text/css">
PRE { font-size: 12pt }
</style></HEAD><BODY>
<p><a name="top"> </a></p>
<h1><a name="loc1">Storage OS  :WIN </a></h1>
<h1>Storage Type:directory </h1>
<h1>Storage Name:c:\cdisc_pilot\SAS_Macros\   </h1>
<table style="float:left" border title="c:\cdisc_pilot\SAS_Macros\ "><tr><th>Name</th><th>Description</th></tr>
<tr><td><a href="#md2odm_2">md2odm </a></td>
<td>
Creates the define.xml file from metadata
</td></tr>
<tr><td><a href="#mdadstandard_3">mdadstandard </a></td>
<td>
Processes metadata content for the special case of
metadata that contains the ADS standard.
Makes copies of templates defined in the ADS
standard - OBSERVAT data set, XX data sets and
XX variables.
</td></tr>
<tr><td><a href="#mdatribs_4">mdatribs </a></td>
<td>
Adds attributes to existing data sets as defined
in meta data sets.  Attributes include data set
labels, variable labels and formats.
</td></tr>
<tr><td><a href="#mdbuild_5">mdbuild </a></td>
<td>
Builds metadata sets from an existing library of
SAS members (data sets,views and format catalogs)
or from a proc contents data set.
</td></tr>
<tr><td><a href="#mdcheck_6">mdcheck </a></td>
<td>
Compares a data base to its specification
contained in meta data sets and reports
inconsistencies in structure and content.
</td></tr>
<tr><td><a href="#mdcompare_7">mdcompare </a></td>
<td>
Compares metadata sets and catalog entries and
reports differences.  Useful to compare
specification information when you have two
versions of a specification or to compare a study
requirement to standards.  Optionally creates
output data sets containing the results of the
comparison.
</td></tr>
<tr><td><a href="#mdcpput_8">mdcpput </a></td>
<td>
Print macro called from mdprint macro - do not use
mdcpput - it is only to support mdprint.
</td></tr>
<tr><td><a href="#mdformats_9">mdformats </a></td>
<td>
Create a format catalog from metadata
</td></tr>
<tr><td><a href="#mdfreqvals_10">mdfreqvals </a></td>
<td>
Creates a VALUES metadata from the values found
in the data sets in a specified SAS library.
Optionally updates the COLUMNS metadata set
variables CFORMAT and CFORMATFLAG.
</td></tr>
<tr><td><a href="#mdmake_11">mdmake </a></td>
<td>
Create standard meta data sets, optionally
reading existing metadata from an input and/or
output library.  Mdmake can copy all or part of a
metadatabase from one location to another and it
can combine all or part of two metadatabases.
</td></tr>
<tr><td><a href="#mdmapmake_12">mdmapmake </a></td>
<td>
Creates map metadata sets.  Optionally includes
information from existing metadata for source
or target of map.
</td></tr>
<tr><td><a href="#mdmkdsn_13">mdmkdsn </a></td>
<td>
Creates all the data sets defined by the meta data sets
with all variables and attributes but with zero obs.
</td></tr>
<tr><td><a href="#mdmoddt_14">mdmoddt </a></td>
<td>
Determines the most recent modification datetime of a
metadatabase.
</td></tr>
<tr><td><a href="#mdmodify_15">mdmodify </a></td>
<td>
Delete a data set definition, rename a data set,
delete a variable definition or rename a variable
</td></tr>
<tr><td><a href="#mdorder_16">mdorder </a></td>
<td>
Recreates a library of all or selected data sets
and reorders the variables' position in the data
sets PDV by the order defined in metadata,
alphabetic order of the variable name or label.
Optionally places key variables first in order.
Also sorts the data set(s) by the primary keys
defined in the metadata.
</td></tr>
<tr><td><a href="#mdport_17">mdport </a></td>
<td>
Creates a SAS transport file containing all metadata sets
and the descriptions catalog. This can be used to backup
a metadatabase or to send metadata somewhere as one
transport file that can be imported on any platform.
</td></tr>
<tr><td><a href="#mdprint_18">mdprint </a></td>
<td>
Prints meta data sets as a data specification.
Creates an HTML file with hperlinks, a SAS listing
or any other SAS ODS output destination.
</td></tr>
<tr><td><a href="#mdshortlong_19">mdshortlong </a></td>
<td>
Renames variables between long and short names
defined in metadata.
</td></tr>
<tr><td><a href="#missvars_20">missvars </a></td>
<td>
Reports what variables are always missing in an input data
set or an input library of data sets.  Optionally creates
copies of the input data set(s) in the output library
after dropping variables that are always missing.
</td></tr>
<tr><td><a href="#mrtf_tpl_21">mrtf_tpl </a></td>
<td>
 
</td></tr>
<tr><td><a href="#setup_22">setup </a></td>
<td>
Creates a standard program execution environment
for SAS programs created in the CDISC SDTM/ADAM
pilot project.  Standard librefs and SAS options
are defined which are the same for off-line
programming and SDD programming.  This minimizes
the amount of code that needs to be changed when
moving the code from off-line to SDD.
-----------------------------------------------------------------------------
</td></tr>
<tr><td><a href="#setup_all_23">setup_all </a></td>
<td>
Creates a standard program execution environment
for SAS programs created in the CDISC SDTM/ADAM
pilot project.  Standard librefs and SAS options
are defined which are the same for off-line
programming and SDD programming.  This minimizes
the amount of code that needs to be changed when
moving the code from off-line to SDD.
-----------------------------------------------------------------------------
</td></tr>
<tr><td><a href="#thin2wide_24">thin2wide </a></td>
<td>
Transforms a tall-thin data set into a short-wide
data set, e.g. the observat tall-thin structure
can be transformed to a short-wide data
structure with this macro.
</td></tr>
<tr><td><a href="#title_footnote_25">title_footnote </a></td>
<td>
Determines what the last unused title line number
is and returns the value in a macro variable
specified by the  tstartvar parameter.  Does the
same for footnotes.
</td></tr>
<tr><td><a href="#ut_age_years_26">ut_age_years </a></td>
<td>
Computes age in years between two dates.  Age is
computed as an integer or as a decimal value,
as specified by the DECIMAL parameter.
</td></tr>
<tr><td><a href="#ut_authenticate_27">ut_authenticate </a></td>
<td>
Reads user id and password from a file for a
specified object or prompts the user if this file
is not found.  Used to provide authentication
information to calling macros so userid and
password do not need to be hardcoded in SAS
programs.
</td></tr>
<tr><td><a href="#ut_catchange_28">ut_catchange </a></td>
<td>
Changes all occurrences of one or more text
strings in all entries in INCAT and writes the
result to OUTCAT.
</td></tr>
<tr><td><a href="#ut_cport_29">ut_cport </a></td>
<td>
Creates a SAS transport file from a SAS library.
The transport file can be written to a local or
remote host.
</td></tr>
<tr><td><a href="#ut_entrycomp_30">ut_entrycomp </a></td>
<td>
Compares two SAS catalogs and reports the
differences
REQUIREMENTS            : https://sddchippewa.sas.com/webdav/lillyce/qa/general/
bums/mdmoddt/documentation/ut_entrycomp_rd.doc
</td></tr>
<tr><td><a href="#ut_errmsg_31">ut_errmsg </a></td>
<td>
This macro writes informational and
error messages to BOTH the SAS log and print
files.  Ut_errmsg also can abort SAS when the
messge type is worse than a pre-defined level.
</td></tr>
<tr><td><a href="#ut_find_long_chars_32">ut_find_long_chars </a></td>
<td>
Lists character variables whose allocated length
is greater than MAXLENGTH and reports the actual
maximum used length.
</td></tr>
<tr><td><a href="#ut_htmlhead_33">ut_htmlhead </a></td>
<td>
Writes standard HTML header tags - tags DOCTYPE,
HTML, HEAD and TITLE and HTML ending tags -
/BODY and /HTML
REQUIREMENTS            : https://sddchippewa.sas.com/webdav/lillyce/qa/general/
bums/mdmoddt/documentation/ut_htmlhead_rd.doc
</td></tr>
<tr><td><a href="#ut_libname_34">ut_libname </a></td>
<td>
 
</td></tr>
<tr><td><a href="#ut_logical_35">ut_logical </a></td>
<td>
Translates various logical values to the two
Boolean logical values 0 and 1.  This is useful
to call for macro parameters so that users can
have a consistent choice of values for truth and
falsity.  GUI and BUMs can benefit from this to
support foreign languages.
</td></tr>
<tr><td><a href="#ut_marray_36">ut_marray </a></td>
<td>
Creates an array of macro variables containing
delimited values from an input variable.
Creates an array of variables from one variable
which has a list of values.
REQUIREMENTS            : https://sddchippewa.sas.com/webdav/lillyce/qa/general/
bums/mdmoddt/documentation/ut_marray_rd.doc
</td></tr>
<tr><td><a href="#ut_mkdir_37">ut_mkdir </a></td>
<td>
 
</td></tr>
<tr><td><a href="#ut_os_38">ut_os </a></td>
<td>
Determines the operating system name and assigns
to a macro variable.
</td></tr>
<tr><td><a href="#ut_parmdef_39">ut_parmdef </a></td>
<td>
Called by macros to process their parameters.
Assigns a default value to each
parameter of the calling macro.
Verifies that the parameter's value is in the
list of allowed values.
Defines parameters are required or optional.
</td></tr>
<tr><td><a href="#ut_progname_40">ut_progname </a></td>
<td>
&lt;Provide brief description of requirements&gt;
</td></tr>
<tr><td><a href="#ut_quote_token_41">ut_quote_token </a></td>
<td>
This module inserts double quotation marks around
each delimited token in the user-specified macro
variable.  Its input is a macro variable whose
value is a list of tokens.  Its output is a macro
variable whose value is these tokens with quotes
added around each token.  If a token already has
double quotes around it, no additional quotes are
added.  Single quotes surrounding a token are
replaced with double quotes.
</td></tr>
<tr><td><a href="#ut_saslogcheck_42">ut_saslogcheck </a></td>
<td>
The ut_saslogcheck is a platform independent
macro that scans the SAS log for occurrences of
certain text messages (e.g. ERROR, WARNING,
selected NOTEs, etc.) that may indicate a problem
with the code or the data, and produces a report
(summary and detail) of the findings.
</td></tr>
<tr><td><a href="#ut_search_catalog_43">ut_search_catalog </a></td>
<td>
Searches all source entries in a catalog and
lists the names of the entries that contain a
specified text string.
</td></tr>
<tr><td><a href="#ut_titlstrt_44">ut_titlstrt </a></td>
<td>
Determines what the first unused title line number
is and returns the value in a macro variable
specified by the  tstartvar parameter
</td></tr>
<tr><td><a href="#ut_truncate_long_chars_45">ut_truncate_long_chars </a></td>
<td>
Truncates character variables to the minimum length
required to hold the longest actual value.
All character variables with an allocated length
greater than a length specified by a parameter are
processed.
</td></tr>
<tr><td><a href="#utcomplibs_46">utcomplibs </a></td>
<td>
Compares one SAS library of data sets to another
</td></tr>
<tr><td><a href="#utcomprc_47">utcomprc </a></td>
<td>
Puts a message to the log base on the return code from
PROC COMPARE
</td></tr>
<tr><td><a href="#varlist_48">varlist </a></td>
<td>
 
</td></tr>
<tr><td><a href="#wide2thin_49">wide2thin </a></td>
<td>
Transforms a short-wide (horizontal) data set into a
tall-thin (vertical) data set.  For example vitals
into an observat data set.  It can be driven by
metadata (preferred) or by a set of macro parameters.
</td></tr>
</table><p><br style="clear:left"><a href="#top">Back to top</a></p>
<p><a name="md2excel_1"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>md2excel </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
/*soh***************************************************************************
Eli Lilly and Company - Global Statistical Sciences
CODE NAME               : md2excel
CODE TYPE               : Broad-use Module
DESCRIPTION            	: &lt;Provide brief description of the code purpose&gt;
SOFTWARE/VERSION#      	: SAS/Version 9
INFRASTRUCTURE         	: MS Windows, MVS, SDD
BROAD-USE MODULES      	: ut_parmdef ut_logical mdmake
INPUT                  	: metadatabase as defined by the MDLIB parameter
OUTPUT                 	: excel file as defined by the EXCEL_FILE parameter
VALIDATION LEVEL       	: 6
REQUIREMENTS            : &lt;reference the location of the requirements document (e.g. SAP, protocol, TFL requirements)
                          or type in the full detailed requirements&gt;
ASSUMPTIONS            	: &lt;Scope and preconditions that requirements are based on, if applicable: optional&gt;
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
BROAD-USE MODULE/LIMITED-USE MODULE SPECIFIC INFORMATION:
 
BROAD-USE MODULE TEMPORARY OBJECT PREFIX: _me
 
PARAMETERS:
Name       Type     Default Description and Valid Values
---------- -------- ------- ----------------------------------------------------
MDLIB      required         Libref of metadata library
EXCEL_FILE required         Full path name of excel file to create, including
                             the .xls file extension.  This file should not
                             exist prior to calling md2excel.
SELECT     optional
EXCLUDE    optional
KEEPALL    required 0
VERBOSE    required 1       %ut_logical specifying whether verbose mode is on
                             or off
DEBUG      required 0       %ut_logical specifying whether debug mode is on
                             or off
 
USAGE NOTES:
 
 This macro issues a SAS/Access libname, so SAS/Access to excel must be
 installed.
 
TYPICAL WAYS TO EXECUTE THIS CODE:
 
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
REVISION HISTORY SECTION:
 
     Author &amp;
Ver#  Peer Reviewer   Code History Description
---- ---------------- ----------------------------------------------------------
1.0  Gregory Steffens Original version of the code
 
**eoh**************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="md2odm_2"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>md2odm </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : md2odm
   TYPE                     : metadata
   DESCRIPTION              : Creates the define.xml file from metadata
   DOCUMENT LIST            : &lt;Enter name and location of the Broad-Use Module
							      Document List&gt;
   SOFTWARE/VERSION#        : SAS/Version 8
   INFRASTRUCTURE           : Windows, MVS, Unix
   BROAD-USE MODULES        : &lt;List all the broad-use modules called
							      by this module&gt;
   INPUT                    : &lt;List all files and their production locations
                               including AUTOEXEC files, if applicable&gt;
   OUTPUT                   : an xml file as defined by the OUTXML or OUTXMLREF
                               parameters
   VALIDATION LEVEL         : 6
   REGULATORY STATUS        : GCP
   TEMPORARY OBJECT PREFIX  : _od
  -----------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
  --------- -------- -------- -------------------------------------------------
  MDLIB     required
  MDPREFIX  optional
  SELECT    optional
  EXCLUDE   optional
  OUTXML    optional
  OUTXMLREF optional
  COLSAME   required 0
  VERBOSE   required 1        %ut_logical value specifying whether verbose mode
                               is on or off
  DEBUG     required 0        %ut_logical value specifying whether debug mode
                               is on or off
  ODM elements and attributes as described in the ODM and define schemas:
  AUTHOR
  STYLESHEET
  ODMVersion
  StudyName
  ProtocolName
  AnnotatedCRF_location
  SupplementalDoc
  StudyDescription
  Originator
  SourceSystem
  SourceSystemVersion
  priorFileOID
  FileType
  FileOID
  crt_prefix
  schemaLocation
  -----------------------------------------------------------------------------
  Usage Notes: &lt;Parameter dependencies and additional information for the user&gt;
 
  -----------------------------------------------------------------------------
  Assumptions: &lt;Scope and preconditions&gt;
 
  -----------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
  -----------------------------------------------------------------------------
		 Author	&amp;							  Broad-Use MODULE History
  Ver#   Peer Reviewer   Request # 		      Description
  ----  ---------------- ---------------      --------------------------------
  1.0   Gregory Steffens &lt;Enter BUM Request#&gt; Original version of the broad-use
        &lt;Peer Reviewer name&gt;                  module
 
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdadstandard_3"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdadstandard </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME    : mdadstandard
TYPE                     : metadata
DESCRIPTION              : Processes metadata content for the special case of
                            metadata that contains the ADS standard.
                            Makes copies of templates defined in the ADS
                            standard - OBSERVAT data set, XX data sets and
                            XX variables.
DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\General\
                           Broad_use_modules\SAS\mdadstandard\
                           mdadstandard DL.doc
SOFTWARE/VERSION#        : SAS/Version 8 and 9
INFRASTRUCTURE           : MS Windows, MVS
BROAD-USE MODULES        : ut_parmdef ut_logical ut_titlstrt ut_errmsg ut_marray
                            mdmake
INPUT                    : metadata residing in a library specified by the INLIB
                            parameter
OUTPUT                   : metadata written to the library specified by the
                            OUTLIB parameter
VALIDATION LEVEL         : 6
REGULATORY STATUS        : GCP
TEMPORARY OBJECT PREFIX  : _as
--------------------------------------------------------------------------------
Parameters:
 Name     Type     Default    Description and Valid Values
--------- -------- ---------- --------------------------------------------------
INLIB      required          The input libref where the metadata sets reside
OUTLIB     required work     The output libref where the metadata is written
                              by this macro after revisions are made
INPREFIX   optional          A prefix of the metadata set names in INLIB
OUTPREFIX  optional          A prefix to be added to the metadata set names
                              in OUTLIB
SELECT     optional          A blank delimited list of data set names define
                              in the INLIB metadata to limit processing to
EXCLUDE    optional          A blank delimited list of data set names defined
                              in the INLIB metadata to exclude from
                              processing
TEMPLATE   optional observat The name of the template data set that will be
                              processed according to the OBSERVAT parameter.
                              Only one template can be specified for each
                              call to the mdadstandard macro.
TPREFIX    optional obs      Template prefix - the prefix used for variable
                              names in the TEMPLATE data set that will be
                              changed to the new prefix defined in the
                              OBSERVAT parameter.
OBSERVAT   optional          A blank delimited list of pairs of data set
                              name and variable prefix.  A copy of the
                              definition of the OBSERVAT data set residing
                              in the INLIB metadata will be made.  The copy
                              will have the TABLE variable in the metadata
                              reassigned to the value of the data set name
                              in the OBSERVAT parameter.  Any COLUMN values
                              in the copy that begin with &quot;OBS&quot; will have
                              the &quot;OBS&quot; replaced with the prefix defined
                              in the OBSERVAT parameter.  Specify a prefix
                              of _null_ in the observat parameter to indicate
                              that &quot;OBS&quot; should be replaced with the null
                              character - i.e. &quot;OBS&quot; will be trimmed off.
XXDATA     required _none_   Defines whether and how to create copies of
                              data sets whose names end with &quot;XX&quot; that are
                              defined in the INLIB metadata.  The data
                              set whose names end in &quot;XX&quot; are template
                              data set definitions that should be copied
                              for each study phase.
                              _none_ : do not create copies of data set
                               definitions whose names end in &quot;XX&quot;
                              _any_ : create copies of data set definitions
                               and replace the &quot;XX&quot; with a suffix defined in
                               the XXDATAVALS parameter
                              otherwise : other values of XXDATA are assumed
                               to be a blank delimited list of suffixes
                               Each copy of an XX data set will be renamed
                               using these suffixes.  The &quot;XX&quot; will be
                               replaced by a suffix in the XXDATA parameter.
                               A copy of the XX data set definition is made
                               for each XXDATA suffix defined.  The suffix
                               of _null_ will make a copy and replace &quot;XX&quot;
                               with the null character (i.e. no suffix).
XXDATAVALS optional          This parameter is used only when XXDATA is
                              _any_.
XXVARS     required _none_   Works like XXDATA parameter but for variable
                              names instead of data set names.
                             Defines whether and how to create copies of
                              variables whose names end with &quot;XX&quot; that are
                              defined in the INLIB metadata.  The variables
                              whose names end in &quot;XX&quot; are template
                              variable definitions that should be copied
                              for each study phase.
                             _none_ : do not create copies of variable
                              definitions whose names end in &quot;XX&quot;
                             _any_ : create copies of variable definitions
                              and replace the &quot;XX&quot; with a suffix defined in
                              the XXVARSVALS parameter
                             otherwise : other values of XXVARS are assumed
                              to be a blank delimited list of suffixes
                              Each copy of an XX variable will be renamed
                              using these suffixes.  The &quot;XX&quot; will be
                              replaced by a suffix in the XXVARS parameter.
                              A copy of the XX variable definition is made
                              for each XXVARS suffix defined.  The suffix
                              of _null_ will make a copy and replace &quot;XX&quot;
                              with the null character (i.e. no suffix).
XXVARSVALS optional          This parameter is used only when XXVARS is _any_.
                              This defines the name of a data set that includes
                              the variables TABLE and COLUMN.  The COLUMN
                              values define the actually used suffixes of the
                              XX variables in INLIB metadata.  This data set
                              is typically the COLUMNS metadata set.
CONTENTS   required 0        %ut_logical value specifying whether a PROC
                              CONTENTS shall be run on the output metadata
                              sets.
VERBOSE    required 1        %ut_logical value specifying whether verbose
                              mode is on or off
DEBUG      required 0        %ut_logical value specfifying whether debug
                              mode is on or off
--------------------------------------------------------------------------------
Usage Notes: &lt;Parameter dependencies and additional information for the user&gt;
 
  The mdadstandard macro does special processing of metadata that hold the
  Lilly ADS standard.  This standard includes a template data set named
  &quot;observat&quot;, template data set names whose names end in XX and template
  variables whose names end in XX.  The mdadstandard macro creates copies of
  these templates and names these copies as specified with the parameters of
  the macro.  The OBSERVAT data set template was created to hold efficacy
  data and contains variables whose names begin with &quot;obs&quot;.  Parameters of
  this macro allow specification of the prefix(es) that replace &quot;obs&quot; and the
  name of the data set copy of observat.  The XX data sets and variables are
  meant to hold information for treatment phases of a study.  There are as
  many of these variables as you need for your study.  Parameters allow
  specification of the substitute suffixes of these data set and variable
  names.
 
  mdadstandard is optionally called by mdcompare, when comparing a study
  ADS requirement to the ADS standard.  Another use of mdadstandard is
  to make a copy of the observat template definition in metadata so a
  new efficacy ADS standard can be created.  A user can call mdadstandard
  to SELECT the observat data set and use the OBSERVAT parameter to rename
  the data set and OBS variables.  This is a good starting point for defining
  a new ADS standard.
--------------------------------------------------------------------------------
Assumptions: &lt;Scope and preconditions&gt;
 
  INLIB contains metadata holding standards or requirements that conform
  to the ADS standard template naming conventions.
 
  Supplied prefixes and suffixes will not cause the names to exceed their
  maximum length.
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
  libname md  '&lt;location of the library that contains the input metadata&gt;';
  libname out '&lt;location of the library that contains the output metadata&gt;';
 
  %mdadstandard(inlib=md,outlib=out,observat=efficacy eff,select=observat)
 
    Makes a copy of the observat template named &quot;efficacy&quot; and renames
    all variables whose name begin with &quot;obs&quot; to start with &quot;eff&quot; instead.
    This is the most common way mdadstandard is called by users.  The other
    parameters are typically used by other macros that call mdadstandard,
    such as the mdcheck macro.
 
 
  %mdadstandard(inlib=md,outlib=work,
   observat=obsrepli parm,
   xxvars=vp1 vp2 vp3,
   xxdata=dp1 dp2 dp3)
 
    This call makes a copy of the observat template named obsrepli, replacing
    &quot;obs&quot; at the start of variable names with &quot;parm&quot;.
    Three copies of each variable name whose name ends in &quot;XX&quot; are created,
    replacing &quot;XX&quot; with &quot;VP1&quot; in the first variable copy, &quot;VP2&quot; in the
    second variable copy and &quot;VP3&quot; in the third varaible copy.
    Three copies of each data set whose name ends in &quot;XX&quot; are created,
    replacing &quot;XX&quot; with &quot;DP1&quot; in the first data set copy, with &quot;DP2&quot; in the
    second data set copy and &quot;DP3&quot; in the third data set copy.
 
 
  %mdadstandard(inlib=md,outlib=out,
   observat=obsrepli1 parm obsrepli2 _null_,
   xxvars=_any_,xxvarsvals=md.cvals,
   xxdata=_any_,xxdatavals=md.tvals)
 
    This call creates two observat copies.
    Copies of each variable whose name ends in &quot;XX&quot; are made.  The number of
    copies depends on the number of suffixes found in the md.cvals data set.
    Copies of each data set whose name ends in &quot;XX&quot; are made.  The number of
    copies depends on the number of suffixes found in the md.tvals data set.
--------------------------------------------------------------------------------
      Author &amp;
Ver#  Peer Reviewer    Request #        Broad-Use MODULE History Description
----  ---------------- ---------------- ----------------------------------------
1.0   Gregory Steffens BMRGCS11Jul2005A Original version of the broad-use module
       Sheetal Lal                       11/Jul/2005
1.1   Gregory Steffens BMRMSR19FEB2007A SAS version 9 migration 06Mar2007
       Michael Fredericksen
2.0   Gregory Steffens                  Added TEMPLATE and TPREFIX parameters
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdatribs_4"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdatribs </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : mdatribs.sas
   VERSION NUMBER           : 1
   TYPE                     : metadata
   AUTHOR                   : Gregory Steffens
   DESCRIPTION              : Adds attributes to existing data sets as defined
                              in meta data sets.  Attributes include data set
                              labels, variable labels and formats.
   SOFTWARE/VERSION#        : SAS/Version 8
   INFRASTRUCTURE           : Windows, MVS
   PEER REVIEWER            : &lt;Enter broad-use module Peer Reviewer's name(s)&gt;
   VALIDATION LEVEL         : 6
   DOCUMENT LIST            : &lt;Enter name and location of the Broad-Use Module
                               Document List&gt;
   REGULATORY STATUS        : GCP
   CREATION DATE            : 01/Feb/2004
   TEMPORARY OBJECT PREFIX  : _ma
   BROAD-USE MODULES        : %ut_logical %ut_parmdef %ut_titlstrt
                              %mdmake %ut_quote_token
   INPUT                    : as defined by inlib and mdlib parameters
   OUTPUT                   : as defined by outlib parameter
--------------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
   -------- -------- -------- --------------------------------------------------
   INLIB    required          Libref of library containing study data
   MDLIB    required &amp;inlib   Libref of library containing spec meta data sets
                               TABLES COLUMNS VALUES
   OUTLIB   required &amp;inlib   Libref of library to copy data sets to
   FORCE    required 1        %ut_logical value specifying whether to force
                               assignment of member labels, variable labels and
                               variable formats when the member or variable
                               already has one.
   ALLATRIBS required 0       %ut_logical value specifying whether the following
                               functions will be done: 1.) drop variables from
                               INLIB that are not defined in MDLIB, 2.) add
                               variables to INLIB that are defined in SPECLIB
                               but do not exist in INLIB, 3.) reassign the
                               length of variables in INLIB that are defined
                               in SPECLIB.
   NEWVARVALN required .       Value to assign variables that are added to the
                               data set when ALLATRIBS is true.  This value is
                               assigned to numeric variables.
   NEWVARVALC required blank  Value to assign variables that are added to the
                               data set when ALLATRIBS is true.  This value is
                               assigned to character variables.
   SOFTFMTS required 0        %ut_logical value specifying whether to assign
                               formats to variables when the FMTFLAG is false
                               or missing
   MDPREFIX optional          Prefix to apply to meta data set names in INLIB
   SELECT   optional          List of data set names to process.  By default all
                               data sets are processed.
   EXCLUDE  optional          List of data set names not to process.  By default
                               no data sets are excluded.
   CONTENTS required 1        %ut_logical value specifying whether to generate
                               a PROC CONTENTS report of each data set
   VERBOSE  required 1        %ut_logical value specifying whether verbose mode
                               is on or off
   DEBUG    required 0        %ut_logical value specifying whether debug mode
                               is on or off.
 
--------------------------------------------------------------------------------
  Usage Notes:  &lt;Parameter dependencies and additional information for the user&gt;
  The data sets are updated with PROC DATASETS so the data is not read by
  the macro so execution is faster.  But if ALLATRS is true then a data step
  may be necessary.  If OUTLIB is not the same as INLIB then
  the INLIB data are copied to OUTLIB prior to the modifications.
 
--------------------------------------------------------------------------------
  Assumptions: &lt;Scope and preconditions&gt;
 
--------------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
  The simplest call is:
 
     %mdatribs(inlib=r,outlib=a)
 
   This will read the data sets in the r library and assign labels
   and formats in all the data sets in the a library.
 
--------------------------------------------------------------------------------
                     BROAD-USE MODULE HISTORY
  Ver#  Author           Description
  ----  ---------------  -------------------------------------------------------
  001   Gregory Steffens Original version of the broad-use module
 
 **eoh*************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdbuild_5"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdbuild </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME    : mdbuild
TYPE                     : metadata
DESCRIPTION              : Builds metadata sets from an existing library of
                            SAS members (data sets,views and format catalogs)
                            or from a proc contents data set.
DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\General\
                            Broad_use_modules\SAS\mdbuild\mdbuild DL.doc
SOFTWARE/VERSION#        : SAS/Version 8 and 9
INFRASTRUCTURE           : MS Windows, MVS
BROAD-USE MODULES        : ut_parmdef ut_logical ut_titlstrt ut_marray mdmake
                           ut_errmsg
INPUT                    : as defined by the parameters INLIB and MDLIB
OUTPUT                   : as defined by the parameter OUTLIB
VALIDATION LEVEL         : 6
REGULATORY STATUS        : GCP
TEMPORARY OBJECT PREFIX  : _mb
--------------------------------------------------------------------------------
Parameters:
Name      Type     Default  Description and Valid Values
--------- -------- -------- -------------------------------------------------
INLIB      optional          Libref of input library that you want to
                              describe in metadata.  INLIB or CONTENTS must
                              be specified in the call to this macro.
MDLIB      required work     Libref of output library the metadata is to be
                              written to
FMTCATS    optional fmtsearch Blank delimited list of 2-level format catalog
                              names to derive valid values from.  Librefs
                              can also be included in the list, in which case
                              a catalog name of FORMATS is assumed.  Default
                              is FMTSEARCH indicating that the current
                              definition of catalogs in the FMTSEARCH option
                              is to be used.  FMTCATS or FMTCNTLOUT must be
                              specified in the call to this macro.
FLABELTYPE required flabel   The type of the label recorded in the format
                              catalog or FMTCNTLOUT data set.  This
                              determines whether the VALUES data set
                              FLABEL or FLABELLONG will be populated.  Valid
                              values of FLABELTYPE are FLABEL and FLABELLONG.
                              If FLABELTYPE = FLABEL but the actual format
                              label length is greater than 100 then the
                              FLABELLONG variable will be populated instead
                              of FLABEL.
FMTCNTLOUT optional          Name of a proc format cntlout data set
                              describing formats.  This is used instead of
                              FMTCATS if you have the cntlout data set but do
                              not have access to the actual format catalogs.
                              The FMTCNTLOUT data set is assumed to include
                              the variables fmtname, type, start, end and
                              label,as defined by the PROC FORMAT cntlout
                              data set.
CONTENTS  optional           Name of a proc contents output data set
                              describing a library.  This is used instead of
                              INLIB if you have the contents data set but do
                              not have access to the actual library INLIB.
                              The CONTENTS data set is assumed to include
                              the variables memname memlabel memtype name
                              label type length format varnum, as defined
                              by the PROC CONTENTS output data set.
OUTPREFIX optional           Prefix to add to the metadata set names created
                              in the MDLIB library
WHERE     optional           A where clause to be applied to the contents
                              data set (created from INLIB or passed with
                              the parameter CONTENTS).  This allows you to
                              select certain data sets or variables in INLIB
                              to describe in MDLIB.  e.g.
                              memname in ('CC603' 'DM502')
MKCAT    required 0          %ut_logical value specifying whether catalog
                              entries should be created for each variable
VERBOSE  required 1          %ut_logical value specifying whether verbose
                              mode is on or off
DEBUG    required 0          %ut_logical value specifying whether debug mode
                              is on or off
--------------------------------------------------------------------------------
Usage Notes: &lt;Parameter dependencies and additional information for the user&gt;
 
  MDBUILD can be used when you need to create requirements for a database you
  need to build and there is another database similar to it.  MDBUILD can do
  much of the work for you by creating a metadatabase of the old database that
  can be modified to describe the new data requirements.
 
  MDBUILD can also be used to document a database.  Run MDBUILD on the database
  and then run MDPRINT on that metadatabase.  This generates a very useful
  description of the database that is superior to PROC CONTENTS in many ways,
  including a list of valid values (derived from the format catalog) for
  variables that have user-defined formats associated with them.
 
  MDBUILD can create metadata on any database you can do a LIBNAME too,
  including oracle tables.
 
  If you do not have access to the database, use a CONTENTS and FMTCNTLOUT
  parameters instead of INLIB and FMTCATS.  For example, if you need metadata
  of a study you do not have access to because of data privacy issues, request
  someone who does have read access to run PROC CONTENTS and PROC FORMAT on
  the study and give you the output data sets from those procs.  These can be
  used as input to MDBUILD and does not violate and data privacy rules because
  you do not need access to any clinical data content.
 
  MDBUILD cannot populate all metadata content, but it can do alot of them and
  save a great deal of time to create a metadata description of a SAS library.
  TABLES : table tlabel type
  COLUMNS: table column ctype clength cformat clabel corder clabellong
           cpkey (partial)
  COLUMNS_PARAM: none
  VALUES : format start end flabel flabellong (when format catalog is supplied)
--------------------------------------------------------------------------------
Assumptions: &lt;Scope and preconditions&gt;
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
    %mdbuild(inlib=r,mdlib=work);
 
--------------------------------------------------------------------------------
      Author &amp;
Ver#   Peer Reviewer   Request #        Broad-Use MODULE History Description
----  ---------------- ---------------- ------------------------------------
1.0   Gregory Steffens BMRGCS18MAY2005A Original version of the broad-use
        Srinivasa Gudipati               module 18 May 2005
2.0   Gregory Steffens BMRKW26JAN2006B  January 2006
        Vijay Sharma                    Added format width and decimal
                                         from contents data set into
                                         CFORMAT.  One result of this is
                                         that DATE is not assumed to be
                                         DATE9.
                                        Made deletion of catalog at end of
                                         macro conditional on _mbfmtcats
                                         catalog actually existing.
2.1   Gregory Steffens BMR21Feb2007C    SAS version 9 migration
       Michael Fredericksen
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdcheck_6"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdcheck </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME    : mdcheck
TYPE                     : metadata
DESCRIPTION              : Compares a data base to its specification
                            contained in meta data sets and reports
                            inconsistencies in structure and content.
DOCUMENT LIST            : \\spreeprd\genesis\SPRE\\QA\General\
                            Broad_use_modules\SAS\mdcheck\mdcheck DL.doc
SOFTWARE/VERSION#        : SAS/Version 8 and 9
INFRASTRUCTURE           : MSWindows, MVS
BROAD-USE MODULES        : ut_parmdef ut_logical ut_titlstrt ut_errmsg
                           mdbuild mdcompare mdmake
INPUT                    : specification meta data sets in mdlib library and
                            SAS data sets in inlib library
OUTPUT                   : Output data sets are optionally created when the
                            OUTLIB parameter is specifed in the macro call
VALIDATION LEVEL         : 6
REGULATORY STATUS        : GCP
TEMPORARY OBJECT PREFIX  : _mc
--------------------------------------------------------------------------------
Parameters:
Name      Type     Default  Description and Valid Values
--------- -------- -------- ----------------------------------------------------
 INLIB    required          Libref of library containing database
 MDLIB    required          Libref of library containing specification
                             meta data sets.
 MDPREFIX optional          Passed to macro MDCOMPARE MDPREFIXB parameter
                             This is used to build metadata from INLIB to
                             compare to MDLIB.
 FMTCATS  optional null     See mdbuild macro for description of FMTCATS.
                             This is used to build metadata from INLIB to
                             compare to MDLIB.  The default value mdcheck
                             assigns is the null value, overriding the default
                             of mdbuild.
 FMTCNTLOUT optional        See mdbuild macro for description of FMTCNTLOUT
 SELECT   optional          A list of data set names in INLIB and MDLIB
                             that you want
                             the macro to limit itself to.  A null value
                             results in all data sets being processed
 EXCLUDE  optional          A list of data set names in INLIB and MDLIB
                             that you want
                             the macro to exclude from processing.  A null
                             values results in excluding no data sets.
 FLABELTYPE required flabel flabel or flabellong.  See mdbuild for details.
 MAXOBS   required 0        The maximum number of bad observations to print.
                             This limits the number of observations printed
                             that have at least one variable with an invalid
                             value.  It also limits the number of observations
                             printed that are duplicates, as defined by the
                             primary keys of the data set.  The value of
                             MAXOBS must be a positive integer.
 OUTLIB   optional          Libref of where optional output data sets are
                             written.  This is passed to the mdcompare macro.
                             In addition a data set named values_freq is
                             created by the mdcheck macro and written to
                             OUTLIB.
 OUTPREFIX optional         Prefix to apply to all output data set names.
 PROJECT  optional          Value of the PROJECT variable in the output data
                             sets.
 PRINT    required 1        %ut_logical value specifying whether the summaries
                             and listings are written to the SAS listing file
                             (or ODS destination).  It may be desireable to
                             set PRINT to a false value when OUTLIB is
                             specified.
 COMPLENGTHS required 0      %ut_logical value specifying whether to compare
                              the CLENGTH variable in the COLUMNS metadata set
                              This is passed to the mdcompare macro.
 VERBOSE  required 1        %ut_logical value specifying whether verbose mode
                             is on or off
 DEBUG    required 0        %ut_logical value specifying whether debug mode
                             is on or off
--------------------------------------------------------------------------------
Usage Notes: &lt;Parameter dependencies and additional information for the user&gt;
 
   The MDCHECK macro calls MDBUILD to create metadata describing the data in
   the INLIB library.  It then calls MDCOMPARE to compare this metadata to the
   metadata residing in the MDLIB library.
--------------------------------------------------------------------------------
Assumptions: &lt;Scope and preconditions&gt;
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
  %mdcheck(inlib=a,mdlib=m,fmtcats=a.formats,maxobs=100)
 
  Compare the data in the a library to the requirements in the m library.  The
  a.formats format catalog defines the valid values allowed for formatted
  variables.  Change the maximum number of observations with disallowed
  values to be printed to 100.
 
 
  %mdcheck(inlib=a,mdlib=m,fmtcntlout=e.formats,fmtcats=)
 
  Compare the data in the a library to the requirements in the m library.  The
  valid values allowed for formatted variables are defined the e.formats data
  set that is structured like a cntlout data set of proc format.
 
 
  libname metrics &quot;&lt;physical path&gt;';
  %mdcheck(inlib=a,mdlib=m,fmtcats=a.formats,outlib=metrics,print=no)
 
  Compare the data in the a library to the requirements in the m library.
  Output data sets are written to the metrics library and the summary and
  listings of the discrepancies are not created.
--------------------------------------------------------------------------------
      Author &amp;
Ver#   Peer Reviewer   Request #        Broad-Use MODULE History Description
----  ---------------- ---------------- ----------------------------------------
1.0   Gregory Steffens BMRGCS25JUL2005A Original version of the broad-use
       Sheetal Lal                       module 25Jul05
2.0   Gregory Steffens BMRMI30JAN2006A  January 2006
       Vijay Sharma
                         Added support of the convention followed in the ADS
                          standard where decode values are stored in variables.
                          When c/pformatflag = 3 then INLIB values are checked
                          against the FLABEL values in the VALUES data set
                          instead of START.
                          When c/pformatflag = 4 then INLIB values are checked
                          against the FLABELLONG values in the VALUES data set
                          instead of START.
                          When c/pformatflag = 2 then INLIB values are checked
                          against the START values in the VALUES data set.
                          When c/pformatflag = 1 then a SAS system format is
                          defined if c/pformat and the values data set is not
                          used to check values in INLIB.
                         Added parameters OUTLIB OUTPREFIX PROJECT and PRINT
                          passed to the mdcompare macro and used to create
                          an additional output data set with the number of
                          observations that include variable(s) with values
                          not allowed by the metadata (named values_freq).
                         Added a count by variable of the number of observations
                          with disallowed values printed before each listing
                          of observations with disallowed values.
                         Added a count of each variable's disallowed values.
                         Added a count by parameter of the number of
                          observations with disallowed values printed before
                          each listing of observations with disallowed values.
                         Added a count of each parameter's disallowed values.
                         Added total observation count in the title of the
                          listing of observations with disallowed values.
                         Reassigned CORDER in the COLUMNS metadata set so that
                          it takes primary keys and header variables into
                          account and will match the VARNUM assignment to CORDER
                          created by mdbuild from the INLIB data.
                         Changed default value of MAXOBS to 0.
                         Added support for values metadata set start = _nomiss_
                          to require no missing values allowed but no other
                          valid values defined.
                         Added two title lines describing inlib and mdlib
                         Changed default value of FMTCATS to null
                         Added check for duplicates in the values metadata set
                          duplicates of fmtname type start hlo.  Duplicates are
                          reported and the duplicates are deleted.
                         Added COMPLENGTHS parameter.
2.1  Gregory Steffens BMRMI20FEB2007A SAS version 9 migration
      Michael Fredericksen
 
3.0   Gregory Steffens
                         Changed where clause in PROC FREQ of invalid values
                          by variable from contains operator to indexw function.
                          This fixes a bug where a code variable values were
                          reported as invalid when they were valid - when
                          the code variable and one of its decode variables
                          both had invalid values then the code variable values
                          that were valid were reported as invalid from
                          observations where the decode value was invalid.  That
                          is,
                  WHERE UPCASE(BAD_COLUMNS) ? &quot;%upcase(&amp;&amp;bad_var&amp;bad_var_number)&quot;
                          selected observations where bad_columns contained
                          &quot;abcsnm&quot; or &quot;abclnm&quot; but not &quot;abc&quot; when reporting
                          invalid values of &quot;abc&quot;.  The indexw function fixes
                          this by selecting blank-delimited words rather than
                          undelimited text strings
                  indexw(upcase(bad_columns),&quot;%upcase(&amp;&amp;bad_var&amp;bad_var_number)&quot;
                         Did similar change for the reporting of invalid
                          parameter values.
                         Fixed unreported bug with xxvars=_any_ and observat
                          =null.  The SOURCE variable is not created by
                          mdadstandard in this case and mdcheck generated
                          warnings about uninitialized and tyep conversion.
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdcompare_7"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdcompare </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME    : mdcompare
TYPE                     : utility
DESCRIPTION              : Compares metadata sets and catalog entries and
                           reports differences.  Useful to compare
                           specification information when you have two
                           versions of a specification or to compare a study
                           requirement to standards.  Optionally creates
                           output data sets containing the results of the
                           comparison.
DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\General\
                            Broad_use_modules\SAS\mdcompare\mdcompare DL.doc
SOFTWARE/VERSION#        : SAS/Version 8 and 9
INFRASTRUCTURE           : MS Windows, MVS
BROAD-USE MODULES        : ut_logical mdmake ut_titlstrt ut_entrycomp
                           ut_errmsg mdadstandard ut_parmdef
INPUT                    : Metadata residing in libraries specified by the
                            BASELIB and COMPLIB parameters
OUTPUT                   : A report sent to the current ODS destination
                           Optional output data sets written to a library
                            specified by the OUTLIB parameter.
VALIDATION LEVEL         : 6
REGULATORY STATUS        : GCP
TEMPORARY OBJECT PREFIX  : _ir
--------------------------------------------------------------------------------
Parameters:
Name      Type     Default  Description and Valid Values
--------- -------- -------- -------------------------------------------------
BASELIB   required          Libref of baseline meta information to compare to
COMPLIB   required          Libref of comparison meta information to compare
MDPREFIXB optional          Prefix of metadata names in BASELIB
MDPREFIXC optional          Prefix of metadata names in COMPLIB
CHECKCAT  required 1        %ut_logical value specifying whether to compare
                             content of catalog entries.  Comparing catalog
                             entries can cause longer execution time, so if
                             catalog entries are not of interest set CHECKCAT
                             to a false value.
SELECT    optional          List of data sets defined in the meta data to
                             include in the comparison.
EXCLUDE   optional          List of data sets defined in the meta data to
                             exclude from the comparison
PRINTDIF  required 1000     Maximum number of lines to print of the
                             differences between catalog entries describing
                             derivations (passed to ut_entrycomp macro)
PRINT     required 1        ut_logical value specifying whether to generate
                             printed output reporting the differences between
                             baselib and complib.  It may be helpful to set
                             this to a false value when OUTLIB is not null.
BASE      required base     Word to use in output listing to identify
                             information from BASELIB
COMPARE   required compare  Word to use in output listing to identify
                             information from COMPLIB
COMPALL   required 1        %ut_logical value specifying whether to compare
                             all meta variables in BASELIB to COMPLIB.
                             When COMPALL is false, the following are not
                             compared or compared differently:
                             tables: torder tdescription location
                             columns: cpkey cshort corder corder clabellong
                              cformatflag cimportance cderivetype cdomain
                              cheader cdescription
                             columns_param is not compared when COMPALL is
                              false
MODE      required listall  Defines mode of comparison - listall, listbase
                             or listcomp.  This works like the PROC COMPARE
                             statement options of the same name.
OUTLIB    optional          Libref where output data sets are written.
OUTPREFIX optional          Prefix applied to the data set names written to
                             OUTLIB
XXDATA     required _none_  Parameter value passed to mdadstandard macro.
                              Defines whether and how to create copies of
                              data sets whose names end with &quot;XX&quot; that are
                              defined in the INLIB metadata.  The data
                              set whose names end in &quot;XX&quot; are template
                              data set definitions that should be copied
                              for each study phase.
                             _none_ : do not create copies of data set
                              definitions whose names end in &quot;XX&quot;
                             _any_ : create copies of data set definitions
                              and replace the &quot;XX&quot; with a suffix defined in
                              the XXDATAVALS parameter
                             otherwise : other values of XXDATA are assumed
                              to be a blank delimited list of suffixes
                              Each copy of an XX data set will be renamed
                              using these suffixes.  The &quot;XX&quot; will be
                              replaced by a suffix in the XXDATA parameter.
                              A copy of the XX data set definition is made
                              for each XXDATA suffix defined.  The suffix
                              of _null_ will make a copy and replace &quot;XX&quot;
                              with the null character (i.e. no suffix).
XXVARS    required _none_   Parameter value passed to mdadstandard macro.
                             Defines special processing for BASE COLUMN names
                             in the COLUMNS metadata set and PARAMRELCOL in
                             the COLUMNS_PARAM metadata set.  Variables
                             whose names end in XX are templates for names
                             and the XX can be substituted with suffixes
                             that indicated study phase.
                            _none_ This value will specify not to process
                             variables ending in XX differently than other
                             variables.
                            _any_ This value will allow any suffix to be
                             substituted that replaces XX in the variable
                             names defined in the BASE metadata. This also
                             allows a null suffix (suffixless) to be defined.
                            list of suffixes This value is a blank
                             delimited list of suffixes that will be allowed
                             to replace XX in variables whose names end in
                             XX.
OBSERVAT  optional null     Parameter passed to mdadstandard macro.
                             Lists data sets defined in COMPLIB that should
                             conform to the OBSERVAT data set in BASELIB.
                             The value is a list of data set names followed
                             by the prefix associated with that data set name.
                             e.g. data1 prefix1 data2 prefix2 vit vs.  The
                             prefix will be added to the variable names in
                             the BASELIB observat data set definition -
                             variables whose names begin with &quot;OBS&quot; will
                             be changed to a name where the prefix replaces
                             &quot;OBS&quot;.  The observat data set definition will
                             be replicated for each data set listed in
                             the OBSERVAT parameter and the variable names
                             beginning with &quot;OBS&quot; will be change to the
                             new prefix that follows the data set name.
                             If OBSERVAT is null no comparison to the
                              observat data set will be done.
PROJECT    optional         Value of PROJECT variable in OUTLIB parameters
                             data set.  This is used solely to populate the
                             PROJECT variable in the output data sets.
COMPLENGTHS required 1      %ut_logical value specifying whether to compare
                             the CLENGTH variable in the COLUMNS metadata set
                             and the PLENGTH variable in the COLUMNS_PARAM
                             data set.
VERBOSE   required 1        %ut_logical value specifying whether verbose mode
                             is on or off
DEBUG     required 0        %ut_logical value specifying whether debug mode
                             is on or off
--------------------------------------------------------------------------------
Usage Notes:
 
  The call this macro makes to ut_entrycomp will create an OUTLIB data set named
  descriptions_list
 
--------------------------------------------------------------------------------
Assumptions:
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
  %mdcompare(baselib=metagen,complib=m)
 
    Compares the study ADS requirements that reside in metadata in the m libref
    to the ADS standard that resides in metadata in the metagen libref.
 
  %mdcompare(baselib=metagen,complib=m,outlib=&lt;libref&gt;,print=no)
 
    Compares the study ADS requirements that reside in metadata in the m libref
    to the ADS standard that resides in metadata in the metagen libref and
    reports the results in output data sets instead of a printed listing.
  -----------------------------------------------------------------------------
      Author &amp;
Ver#  Peer Reviewer    Request #        Broad-Use MODULE History Description
----  ---------------- ---------------  -------------------------------------
1.0   Gregory Steffens BMRGCS27JUN2005A Original version of the broad-use
        Sheetal Lal                      module 27Jun05
2.0   Gregory Steffens BMRKW14FEB2006A  January 2006
        Vijay Sharma                    When COMPALL is false, compares
                                         format names only when formatflag
                                         = 1 in base or compare.
                                        Suppress two notes about tables
                                         with no columns_param
                                        Suppress note 0 matching
                                         observations found in &amp;mdsn to be
                                         generated only when the &amp;mdsn
                                         data set has at least one
                                         observation.
                                        Suppress when COMPALL is false
                                         proc report with title of
                                         Formats in &amp;base but not in
                                         &amp;compare and clarified title to
                                         Formats defined in VALUES in
                                          &amp;base but not in &amp;compare
                                        proc report with title of
                                         Formats in &amp;compare but not in
                                         &amp;base
                                         clarified title to
                                         Formats defined in VALUES in
                                          &amp;compare but not in &amp;base
                                        Clarified title of proc print of
                                         _itformatmap
                                        Clarified message from
                                         &amp;base values data set has no
                                         referenced formats
                                         to
                                         VALUES data set has no referenced
                                         formats in &amp;base
                                         the above message is sent to the
                                         log only and not to print
                                        Clarified message from
                                         &amp;compare values data set has no
                                         referenced formats
                                         to
                                         VALUES data set has no referenced
                                         formats in &amp;compare
                                         the above message is sent to the
                                         log only and not to print
                                        Added FREQ tables of attribute
                                         differences
                                        Modified second and third titles
                                        Made conditional on debug true of
                                         list of Formats with different
                                         names but associated with same
                                         column name
                                        Made proc freq of column by
                                         attribute conditional on at least
                                         one attribute being different
                                        Added BASE and COMPARE parameters
                                         to first title
                                        Supress physical path in title
                                         when BASELIB or COMPLIB are work
                                        Enhanced comparison of CFORMAT
                                         when COMPALL is false
                                        Added the new TSHORT variable of
                                         the TABLES metadata set to the
                                         list of variables being compared.
                                         TSHORT is compared only when
                                         COMPALL is true.
                                        Added COMPLENGTHS parameter
                                        Supressed comparison of table type
                                         when COMPALL is false and either
                                         type value is missing
2.1   Gregory Steffens BMRKW21FEB2007A SAS version 9 migration
       Michael Fredericksen
3.0   Gregory Steffens BMR             Compare variable types only when
                                        COMPALL is true
                                       Changed array index maximum format from
                                        7.0 to 32.0 in call symputs
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdcpput_8"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdcpput </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME    : mdcpput
TYPE                     : metadata
DESCRIPTION              : Print macro called from mdprint macro - do not use
                            mdcpput - it is only to support mdprint.
DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\General\
                            Broad_use_modules\SAS\mdprint\mdprint-mdcpput DL.doc
SOFTWARE/VERSION#        : SAS/Version 8 and 9
INFRASTRUCTURE           : MS Windows, MVS, SDD
BROAD-USE MODULES        : ut_logical ut_parmdef ut_marray ut_errmsg
INPUT                    : As defined by the MDLIB parameter
OUTPUT                   : As defined by the optional HTMLFILE parameter
                            Otherwise the SAS listing file
VALIDATION LEVEL         : 6
REGULATORY STATUS        : GCP
TEMPORARY OBJECT PREFIX  : _mc
--------------------------------------------------------------------------------
Parameters:
 Name     Type     Default    Description and Valid Values
--------- -------- ---------- --------------------------------------------------
TABLE    required          Name of table to print metadata information about
PARAMVAR optional          Name of parameter variable to print metadata
                            information about  - the value of the PARAM
                            variable in the columns_param metadata set
LMARGIN  required 0        Number of columns to allocate to the left margin
                            The printed report will be indented by this
                            amount.
HTML     required 0        %ut_logical value specifying whether or not to
                            create an html file
HTMLFILE optional          Name of the html file to create when HTML is true
HTMLFILEREF optional       Fileref of the html file to create when HTML is
                            true
DESCRIPTIONS req  1        %ut_logical value specifying whether or not to
                            print variable descriptions
VALUES   required 1        %ut_logical value specifying whether or not to
                            print variables valid values and code/decode
                            mappings
LABELLONG required 1       %ut_logical value specifying whether or not to
                            print the variable long label
USERFORMATS required 1     %ut_logical values specifing whether format names
                            where formatflag is 2, 3 or 4 will be printed
                            from the COLUMNS and COLUMNS_PARAM metadata.
MAXVALUESOBS optional max  Maximum number of observations in the VALUES to
                            print for each variable.  MAX means to print
                            all observations.  Otherwise specify an integer.
DEBUG    required 0        %ut_logical value specifying whether debug mode
                            is on or off
--------------------------------------------------------------------------------
Usage Notes: &lt;Parameter dependencies and additional information for the user&gt;
 
   This macro is called from the mdprint macro and is not meant to be used
   other than in that context.
 
--------------------------------------------------------------------------------
Assumptions: &lt;Scope and preconditions&gt;
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
--------------------------------------------------------------------------------
     Author &amp;
Ver#  Peer Reviewer   Request #        Broad-Use MODULE History Description
---- ---------------- ---------------- -----------------------------------------
1.0  Gregory Steffens BMRGCS23Apr2005A Original version of the broad-use module
1.1  Gregory Steffens BMRMSR20Feb2007C SAS version 9 migration
      Michael Fredericksen
2.0  Gregory Steffens BMR14Jan2008      Changed message from
      Russ Newhouse                      valid values for variable
                                         to
                                         valid values for parameter
                                         Changed USERFORMATS to recognize new
                                          values of c/pformatflag and suppresses
                                          the format names when these are 2, 3
                                          or 4 instead of just 2 or 3.
                                        Added HTMLFILEREF parameter (SDD needs
                                         this)
                                        Deleted blank lines when HTML is false
                                        Fixed issue where _NOMISS_ valid value
                                         printed both _NOMISS_ and Missing
                                         value not allowed.  Now prints only
                                         Missing value not allowed.
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdformats_9"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdformats </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
/*soh===========================================================================
  Eli Lilly
   PROGRAM NAME    : mdformats.sas            Temporary Object Prefix: _mf
   TYPE            : user utility
   PROGRAMMER      : Greg Steffens
   DESCRIPTION     : Create a format catalog from metadata
   LANGUAGE/VERSION: SAS/Version 8
   VALIDATOR       :
   INITIATION DATE : 16Apr2004
   INPUT FILE(S)   : none
   OUTPUT FILE(S)  : none
   XTRNL PROG CALLS: ut_parmdef ut_logical mdmake
--------------------------------------------------------------------------------
  Parameters:
   Name      Type     Default  Description
   --------  -------- -------- -------------------------------------------------
   MDLIB     required          Libref of library containing metadata
   OUTLIB    required work     Libref of output library where the output format
                                catalog and data set will be created by this
                                macro.
   OUTDATA   optional formats  Name of data set containing format information to
                               output.  If null then no output data set will be
                               be created.
   OUTCAT    required formats  Name of output format catalog.  Formats will be
                                added to or replaced in this catalog if it
                                already exists.  If it does not exist then it
                                will be created with the formats derived from
                                MDLIB.values.  c.f. CATKILL.
   CATKILL   required 0        %ut_logical values specifying whether to delete
                                all catalog entries in OUTCAT prior to creating
                                the new formats in OUTCAT.
   FLABELTYPE required flabel  Name of the variable in MDLIB values data set
                                that contains the format label.  This parameter
                                must equal flabel or flabellong.
   FMTLIB    required 1        %ut_logical value specifying whether or not to
                                print the formats in the OUTCAT format catalog
                                after adding the new formats.
   INPREFIX  optional          Prefix to apply to metadata set names in MDLIB
   SELECT    optional          Blank delimited list of data sets defined by
                                metadata for which to create formats.  If this
                                parameter is not specified then all data set
                                formats will be processed - c.f. EXCLUDE.
   EXCLUDE   optional          Blank delimited list of data sets defined by
                                metadata to exclude from processing.  If this
                                parameter is not specified then no data set
                                formats will be excluded - c.f. SELECT.
   VERBOSE   required 1        %ut_logical value specifying whether verbose mode
                                is on or off
   ALTERPSWD optional          Alter password - specify if an alter password is
                                defined for the metadata in MDLIB
   DEBUG     required 0        %ut_logical value specifying whether debug mode
                                is on or off
 
  Usage Notes:
 
  Typical Macro Calls:
 
    %studyrefs(project=aaaa);
    %mdformats(mdlib=m,outlib=a)
 
 
--------------------------------------------------------------------------------
                         REVISION HISTORY
================================================================================
  REV#  Date       User ID   Description
  ----  ---------  --------  ---------------------------------------------------
  001   ddmmmyyyy
eoh===========================================================================*/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdfreqvals_10"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdfreqvals </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : mdfreqvals
   TYPE                     : metadata
   DESCRIPTION              : Creates a VALUES metadata from the values found
                               in the data sets in a specified SAS library.
                               Optionally updates the COLUMNS metadata set
                               variables CFORMAT and CFORMATFLAG.
   DOCUMENT LIST            : &lt;Enter name and location of the Broad-Use Module
							      Document List&gt;
   SOFTWARE/VERSION#        : &lt;Enter software name and version(s)used
							      for code development and testing
                               [e.g., SAS/Version 8]&gt;
   INFRASTRUCTURE           : Windows, MVS
   BROAD-USE MODULES        : ut_parmdef ut_logical ut_titlstrt ut_quote_token
                              ut_find_decodes ut_find_decodes
   INPUT                    : &lt;List all files and their production locations
                               including AUTOEXEC files, if applicable&gt;
   OUTPUT                   : &lt;List all files [e.g. data sets] and
                               file types [e.g. macro variable]&gt;
   VALIDATION LEVEL         : 6
   REGULATORY STATUS        : &lt;Enter applicable regulatory status [e.g. GCP,
                               GLP, GMP, GPP, NDR (non drug related)
                               regulations, non-regulated, or N/A]. Refer to
                               Statistics Glossary for the definition of each
                               of the terms.&gt;
   TEMPORARY OBJECT PREFIX  : &lt;Enter unique ID for each broad-use module.
                               See Broad-Use Module Request.&gt;
  -----------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
  --------- -------- -------- -------------------------------------------------
  INLIB     required         Libref of input data sets
  OUT       required         Name of output data set
  MDLIB     optional         Libref of metadata sets
  MAXLEVELS required 100
  LDECODESUFFIX optional
  SDECODESUFFIX optional
  FMTCAT    optional
  SELECT    optional
  VERBOSE   required 1        %ut_logical value specifying whether verbose mode
                               is on or off
  DEBUG     required 0        %ut_logical value specifying whether debug mode
                               is on or off
 
  -----------------------------------------------------------------------------
  Usage Notes: &lt;Parameter dependencies and additional information for the user&gt;
 
  -----------------------------------------------------------------------------
  Assumptions: &lt;Scope and preconditions&gt;
 
  -----------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
  -----------------------------------------------------------------------------
		 Author	&amp;							  Broad-Use MODULE History
  Ver#   Peer Reviewer   Request # 		      Description
  ----  ---------------- ---------------      --------------------------------
  1.0   Gregory Steffens &lt;Enter BUM Request#&gt; Original version of the broad-use
        &lt;Peer Reviewer name&gt;                  module
 
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdmake_11"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdmake </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME    : mdmake
TYPE                     : metadata
DESCRIPTION              : Create standard meta data sets, optionally
                            reading existing metadata from an input and/or
                            output library.  Mdmake can copy all or part of a
                            metadatabase from one location to another and it
                            can combine all or part of two metadatabases.
DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\General\
                            Broad_use_modules\SAS\mdmake\mdmake DL.doc
SOFTWARE/VERSION#        : SAS/Version 8 and 9
INFRASTRUCTURE           : MS Windows, MVS
BROAD-USE MODULES        : ut_parmdef ut_logical ut_titlstrt ut_quote_token
                           ut_errmsg
INPUT                    : As defined by parameters INLIB
OUTPUT                   : As defined by parameters OUTLIB
VALIDATION LEVEL         : 6
REGULATORY STATUS        : GCP
TEMPORARY OBJECT PREFIX  : _mm
--------------------------------------------------------------------------------
Parameters:
Name     Type     Default  Description and Valid Values
--------- -------- -------- --------------------------------------------------
OUTLIB    required work     Libref of output library to write new meta data
                             sets to.  If OUTLIB already contains meta data
                             sets then that meta data can be included and the
                             meta data sets made standard - see MODE
                             parameter.
INLIB     optional          Libref of input library that contains meta data
                             sets.  These can be combined with data sets
                             that exist in OUTLIB.  If no OUTLIB meta data
                             sets exist then INLIB is copied to OUTLIB.  In
                             either case the meta data sets are standardized
                             - standard names, labels, types, lengths, etc.
                             If INLIB does not exist then 0-observations
                             metadata sets are created in OUTLIB.
MODE       required merge   Mode of meta data set processing - replace,
                             append or merge (must be low case).
                             If the metadata set exists in OUTLIB and
                              metadata exists in INLIB then:
                              If mode is &quot;append&quot; the metadata in INLIB is
                               appended to metadata in OUTLIB.
                              If mode is &quot;replace&quot; the meta data sets in
                               OUTLIB are replaced with the metadata in INLIB
                              If mode is &quot;merge&quot; the meta data sets in
                               OUTLIB are updated by metadata in INLIB.
                             If the metadata set exists in OUTLIB but not in
                              INLIB then:
                              If mode is &quot;append&quot; the metadata in OUTLIB is
                               standardized and the content of the metadata
                               is kept.
                              If mode is &quot;replace&quot; the meta data sets in
                               OUTLIB are standardized and emptied of all
                               observations.
                              If mode is &quot;merge&quot; the meta data sets in
                               OUTLIB are standardized and the content of
                               the metadata is kept.
                             If the metadata set exists in INLIB but not in
                              OUTLIB then:
                              If mode is &quot;append&quot; the metadata in INLIB is
                               standardized and the content of the metadata
                               is kept.
                              If mode is &quot;replace&quot; the meta data sets in
                               INLIB are standardized and copied to OUTLIB.
                              If mode is &quot;merge&quot; the meta data sets in
                               INLIB are standardized and the content of
                               the metadata is kept.
INPREFIX  optional          A prefix to the names of the data sets and
                             catalog that are read from INLIB
OUTPREFIX optional          A prefix to the names of the data sets and
                             catalog that are created in OUTLIB
MKCAT     required 0        Logical value specifying whether to create
                             a catalog entry in DESCRIPTIONS for each column
                             and each param in COLUMNS_PARAM
                             If MODE is not REPLACE and INLIB or OUTLIB is
                             specified then the INLIB and/or OUTLIB entries
                             will be used.  Otherwise the catalog entries
                             will contain only the template information.
IC        required 0        Logical value specifying whether to define
                             integrity constraints
AUDIT     required 0        Logical value specifying whether to initialize
                             an audit trail
ALTERPSWD optional          The SAS data set option ALTERPSWD - this is
                             recommended when AUDIT is true
CONTENTS  required 1        Logical value specifying whether to run PROC
                             CONTENTS on the meta data sets
INSELECT  optional          Blank delimited list of table names defined in
                             the metadata that you want to limit processing
                             to.  The INLIB metadata will be subsetted
                             by these table names.  A null value specifies
                             to select all tables (c.f. INEXCLUDE)
INEXCLUDE optional          Blank delimited list of table names defined in
                             the metadata that you want to exclude from
                             processing.  The INLIB metadata will be
                             subsetted by these table names.  A null value
                             specifies to exclude no tables (c.f. INSELECT)
OUTSELECT optional          Blank delimited list of table names defined in
                             the metadata that you want to limit processing
                             to.  The OUTLIB metadata will be subsetted
                             by these table names.  A null value specifies
                             to select all tables (c.f. INEXCLUDE)
OUTEXCLUDE optional         Blank delimited list of table names defined in
                             the metadata that you want to exclude from
                             processing.  The OUTLIB metadata will be
                             subsetted by these table names.  A null value
                             specifies to exclude no tables (c.f. INSELECT)
VERBOSE   required 1        %ut_logical value specifying whether verbose
                             mode is on or off.
ADDPARAM  required 0        %ut_logical value specifying whether to add meta
                             data information for parmameter information
                             A flag is added to COLUMNS if the column is
                             a parameter defined in COLUMNS_PARAM.  Flag
                             variables added are: CPARAMFL CPARAMREL_MISS and
                             CPARAMRELFL.
                             The values defined in COLUMNS_PARAM are added to
                             VALUES for the corresponding column.  Typically
                             ADDPARAM should be false when calling mdmake to
                             store permanent metadata and should be true
                             when calling mdmake to access metadata for
                             use in the work library to use the metadata
                             for printing, checking, etc.
ADDHEADER required 0        ut_logical value specifying whether to add header
                             variables to data sets defined in COLUMNS.
                             ADDHEADER should be false when calling mdmake to
                             store permanent metadata and should be true
                             when calling mdmake to access metadata for
                             use in the work library to use the metadata
                             for printing, checking, etc.
DEBUG     required 0        %ut_logical value specifying whether debug mode
                              is on or off
--------------------------------------------------------------------------------
Usage Notes:  &lt;Parameter dependencies and additional information for the user&gt;
 
--------------------------------------------------------------------------------
Assumptions: &lt;Scope and preconditions&gt;
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
--------------------------------------------------------------------------------
      Author &amp;
Ver#  Peer Reviewer    Request #         Broad-Use MODULE History Description
----  ---------------- ---------------   ---------------------------------------
1.0   Greg Steffens    BMRGCS02APR2005A  Original version of the broad-use
       Srinivase Gudapati                 module
2.0   Greg Steffens    BMRKW27FEB2006A   Added TSHORT variable to the TABLES
       Vijay Sharma                       metadata set
                                         Clarified header comment about mode
                                          replace
                                         Initialize HEADERFLAG macro variable
                                          to 0 prior to the data step that
                                          assigns it a value.
                                         Changed p/c formatflag to allow
                                          . 1 2 3 4 in the integrity checks
                                          and redefined the variable label
                                          for p/c formatflag to list the new
                                          meanings of p/cformatflag.
                                         When ADDPARAM is true the formatflag
                                          variable is set to 2 instead of 3
                                          to conform to the new meanings of
                                          formatflag.
2.1   Gregory Steffens BMRKW21FEB2007B SAS version 9 migration
       Michael Fredericksen
3.0   Gregory Steffens BMRGCS30OCT2007   Added checks for duplicates
                                         Added report of overlays when MODE
                                          is MERGE - matching observations
                                         Added KEEPALL parameter
                                         Added referential integrity checks
                                          of INLIB and OUTLIB metadata when
                                          VERBOSE is true
                                         Strip format and informat from
                                          character variables in the output
                                          metadata sets.  This fixes problems
                                          with the input data sets that have
                                          a format that is shorter than the
                                          metavariable length and truncation
                                          of start when mdprint uses the
                                          addparams parameter.
                                         Resolved version 8 SAS bug where
                                          there is a limit of the length of
                                          the select statement in PROC
                                          CATALOG of about 32k.  The macro
                                          now decides if a select exclude or
                                          no subsetting statement is required,
                                          and selects the shortest one.
                                         Do not use param name as a default
                                          catalog entry name since param is
                                          not required to be a valid SAS name.
                                         Added check that INLIB and OUTLIB exist
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdmapmake_12"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdmapmake </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME   : mdmapmake
TYPE                    : metadata
DESCRIPTION             : Creates map metadata sets.  Optionally includes
                           information from existing metadata for source
                           or target of map.
DOCUMENT LIST           : \\spreeprd\genesis\SPREE\QA\General\Broad_use_modules\
                           SAS\mdmapmake\mdmapmake DL.doc
SOFTWARE/VERSION#       : SAS/Version 8 and 9
INFRASTRUCTURE          : MS Windows, MVS, Unix, SDD
BROAD-USE MODULES       : ut_parmdef ut_logical mdmake
INPUT                   : As defined by the SOURCEMD and TARGETMD parameters
OUTPUT                  : As define by the OUTLIB parameter
VALIDATION LEVEL        : 6
REGULATORY STATUS       : GCP
TEMPORARY OBJECT PREFIX : _mb
--------------------------------------------------------------------------------
Parameters:
Name         Type     Default    Description and Valid Values
------------ -------- ---------- --------------------------------------------------
OUTLIB       required work       Libref of output library where map metadata
                                  will be written
OUTPREFIX    optional            Prefix of output metadata set names
SOURCEMD     optional            Libref of existing metadata that will be used
                                  to populate source information in the map
                                  metadata
SOURCEPREFIX optional            Prefix of SOURCEMD metadata set names
TARGETMD     optional            Libref of existing metadata that will be used
                                  to populate target information in the map
                                  metadata
SSELECT      optional
SEXCLUDE     optional
TSELECT      optional
TEXCLUDE     optional
TARGETPREFIX optional            Prefix of TARGETMD metadata set names
VERBOSE      required 1          %ut_logical value specifying whether verbose mode
                                  is on or off
DEBUG        required 0          %ut_logical value specifying whether debug mode
                                  is on or off
 
--------------------------------------------------------------------------------
Usage Notes: &lt;Parameter dependencies and additional information for the user&gt;
 
--------------------------------------------------------------------------------
Assumptions: &lt;Scope and preconditions&gt;
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
--------------------------------------------------------------------------------
     Author &amp;
Ver#  Peer Reviewer   Request #        Broad-Use Module History Description
---- ---------------- ---------------- -----------------------------------------
1.0   &lt;Author name&gt;    &lt;BUM Request#&gt;  Original version of the broad-use module
       &lt;Peer Reviewer name&gt;
 
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdmkdsn_13"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdmkdsn </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
/*soh===========================================================================
  Eli Lilly
   PROGRAM NAME    : mdmkdsn.sas            Temporary Object Prefix: _ik
   PROGRAMMER      : Gregory Steffens
   DESCRIPTION     : Creates all the data sets defined by the meta data sets
                      with all variables and attributes but with zero obs.
   LANGUAGE/VERSION: SAS/Version 8
   INITIATION DATE : 20Jan2004
   VALIDATOR       :
   INPUT FILE(S)   : meta data indicated by LIBREF parameter
   OUTPUT FILE(S)  : data sets defined by meta data written to OUTLIB
   XTRNL PROG CALLS: %ut_logical %ut_titlstrt %mdmake %mdatribs %ut_parmdef
   PROGRAM PATH    : /SPREE/RMP/Clinical//Neuroscience/Symbiax/Bioplar I
                     Depression/H6P-US-HDAQ Acute/general/code_lib/sasmacro/
   REQUIREMENTS    : /SPREE/RMP/Clinical/Neuroscience/Symbiax/Bioplar I
                      Depression/H6P-US-HDAQ Acute/general/HDAQ Detailed
                      Dataset Requirements.doc
   VALIDATION LEVEL: as defined by a calling program
   REGULATORY STATUS: GCP
--------------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description
   -------- -------- -------- --------------------------------------------------
   MDLIB    required          Libref of meta data set library
   OUTLIB   required work     Libref of output data set library
   SELECT   optional          A blank delimited list of data sets defined in
                               MDLIB that you want to create.  A null value
                               indicates all data sets are to be created.
   EXCLUDE  optional
   MDPREFIX optional
   REPLACE  required 0        %ut_logical value specifying whether existing data
                               sets in OUTLIB will be replaced by this macro.
                               If REPLACE is false the data sets in OUTLIB that
                               already exist there will not be created by this
                               macro.  If REPLACE is TRUE then data sets in
                               OUTLIB can be replaced by this macro.  If the
                               data set defined in MDLIB does not exist in
                               OUTLIB then the data set will be created
                               regardless of the value of REPLACE.
   VERBOSE  required 1        %ut_logical value turning verbose mode on and off
   DEBUG    required 1        %ut_logical value turning debug mode on and off
 
  Usage Notes:
 
  This macro translates double quotes to single quotes in data set and
  variable labels.
 
--------------------------------------------------------------------------------
                         REVISION HISTORY
================================================================================
  REV#  Date       User ID   Description
  ----  ---------  --------  ---------------------------------------------------
  001
eoh===========================================================================*/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdmoddt_14"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdmoddt </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
/*soh***************************************************************************
Eli Lilly and Company - Global Statistical Sciences
CODE NAME           : mdmoddt
CODE TYPE           : Broad-use Module
DESCRIPTION         : Determines the most recent modification datetime of a
                       metadatabase.
SOFTWARE/VERSION#   : SAS/Version 9
INFRASTRUCTURE      : MS Windows, MVS, SDD
LIMITED-USE MODULES : N/A
BROAD-USE MODULES   : ut_parmdef ut_logical ut_errmsg
INPUT               : Metadata library designated by MDLIB and MDPREFIX
                       parameters
OUTPUT              : Macro variable as designated by the OUTMVAR parameter
VALIDATION LEVEL    : 6
REQUIREMENTS        : https://sddchippewa.sas.com/webdav/lillyce/qa/general/
                       bums/mdmoddt/documentation/mdmoddt_rd.doc
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
BROAD-USE MODULE/LIMITED-USE MODULE SPECIFIC INFORMATION:
 
BROAD-USE MODULE TEMPORARY OBJECT PREFIX: _mt
 
PARAMETERS: &lt;enter N/A if no parameters&gt;
Name      Type     Default    Description and Valid Values
--------- -------- ---------- --------------------------------------------------
MDLIB     required            Libref of input metadata members
MDPREFIX  optional            Prefix of metadata member names
OUTMVAR   required moddt      Name of macro variable that will be assiged the
                               formatted datetime of the most recently modified
                               metadata member.  This name cannot be any of
                               _mtdsid, _mtmod_most_recent or _mtmod_current.
OUTFMT    optional datetime19 Format to apply to the datetime value that
                               populates OUTMVAR. (include the dot)
VERBOSE   required 1          %ut_logical value specifying whether verbose mode
                               is on or off
DEBUG     required 0          %ut_logical value specifying whether debug mode
                               is on or off
 
USAGE NOTES:
 
TYPICAL WAYS TO EXECUTE THIS CODE:
 
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
REVISION HISTORY SECTION:
 
     Author &amp;
Ver#  Peer Reviewer   Code History Description
---- ---------------- ----------------------------------------------------------
1.0  Gregory Steffens Original version of the code BMRGCS09Jan2008
      Russ Newhouse
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdmodify_15"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdmodify </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : mdmodify
   VERSION NUMBER           : 1
   TYPE                     : utility
   AUTHOR                   : Greg Steffens
   DESCRIPTION              : Delete a data set definition, rename a data set,
                               delete a variable definition or rename a variable
   SOFTWARE/VERSION#        : SAS/Version 8
   INFRUSTRUCTURE           : Windows
   PEER REVIEWER            : &lt;Enter broad-use module Peer Reviewer's name(s)&gt;
   VALIDATION LEVEL         : 6
   DOCUMENT LIST            : &lt;Enter name and location of the Broad-Use Module
                               Document List&gt;
   REGULATORY STATUS        : GCP
   CREATION DATE            : 14Jul2004
   TEMPORARY OBJECT PREFIX  : _mm
   BROAD-USE MODULES        : &lt;List other modules called by this module&gt;
   INPUT                    : &lt;List all files and their locations&gt;
   OUTPUT                   : &lt;List all files and their locations and
                               file types&gt;
--------------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
   -------- -------- -------- --------------------------------------------------
   MDLIB1   required          Libref of metadata to modify
   MDLIB2   optional MDLIB1   Libref of metadata to copy from when MODE is
                               COPYDSN or COPYVAR
   MDPREFIX1 optional
   MDPREFIX2 optional
   MODE     required          DELETEDSN
                              RENAMEDSN
                              COPYDSN
                              DELETEVAR
                              RENAMEVAR
                              COPYVAR
   NAME     required          Name of data set to delete when MODE=DELETEDSN
                              Name of variable to delete when MODE=DELETEVAR
                              Name of data set to rename when MODE=RENAMEDSN
                               first is old name second is new name
                              Name of variable to rename when MODE=RENAMEVAR
                               first is old name second is new name
                              Name of data set to copy when MODE=COPYDSN
                               first is data set in MDLIB2 to copy, optional
                               second is data set name in MDLIB1 (if second is
                               missing it defaults to MDLIB2 data set name
                              Name of variable to copy when MODE=COPYDSN
                               first is variable in MDLIB2 to copy, optional
                               second is variable name in MDLIB1 (if second is
                               missing it defaults to MDLIB2 data set name
   VERBOSE  required 1
   DEBUG    required 0
--------------------------------------------------------------------------------
  Usage Notes:  &lt;Parameter dependencies and additional information for the user&gt;
 
--------------------------------------------------------------------------------
  Assumptions: &lt;Scope and preconditions&gt;
 
--------------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
 
--------------------------------------------------------------------------------
                     BROAD-USE MODULE HISTORY
  Ver#  Author           Description
  ----  ---------------  -------------------------------------------------------
  001   &lt;Author's name&gt;  Original version of the broad-use module
 
 **eoh*************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdorder_16"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdorder </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME    : mdorder
TYPE                     : metadata, data transformation
DESCRIPTION              : Recreates a library of all or selected data sets
                            and reorders the variables' position in the data
                            sets PDV by the order defined in metadata,
                            alphabetic order of the variable name or label.
                            Optionally places key variables first in order.
                            Also sorts the data set(s) by the primary keys
                            defined in the metadata.
DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\General\
                            Broad_use_modules\SAS\mdorder\mdorderDL.doc
SOFTWARE/VERSION#        : SAS/Version 8 and 9
INFRASTRUCTURE           : MSWindows, MVS
BROAD-USE MODULES        : ut_parmdef ut_logical ut_titlstrt
INPUT                    : As defined by the parameters INLIB, MDLIB, SELECT
                            and EXCLUDE
OUTPUT                   : As defined by the parameters OUTLIB, SELECT and
                            EXCLUDE
VALIDATION LEVEL         : 6
REGULATORY STATUS        : GCP
TEMPORARY OBJECT PREFIX  : _mo
--------------------------------------------------------------------------------
Parameters:
Name      Type     Default  Description and Valid Values
--------- -------- -------- -------------------------------------------------
INLIB    required          Libref of input library
OUTLIB   required work     Libref of output library
SELECT   optional          List of data sets to process - all data sets are
                            processed if select is null
EXCLUDE  optional          List of data sets in INLIB to exclude from
                            processing - no datasets are excluded if null
VARORDER  required see note Sort by variable name, by variable label or by
                            order defined in MDLIB.COLUMNS CORDER variable
                            valid values: CORDER, NAME or LABEL
                            Default: when MDLIB specified - CORDER
                            otherwise NAME.
MDLIB    optional          Libref of library containing metadata sets.
                            This is required if SORT is true of if VARORDER
                            is CORDER.
MDPREFIX optional          Prefix added to metadata set names in MDLIB
SORT     required 1        %ut_logical value specifying whether to sort by
                            the primary keys defined in MDLIB.COLUMNS.
                            Default: if MDLIB not null then = 1
                            otherwise = 0
COMPARE  required 1        %ut_logical value specifying whether to do a PROC
                            COMPARE of the data sets in INLIB to the data
                            sets in OUTLIB
VERBOSE  required 1        %ut_logical value specifying whether verbose mode
                            is on or off
DEBUG    required 0        %ut_logical value specifying whether debug mode
                            is on or off
--------------------------------------------------------------------------------
Usage Notes: &lt;Parameter dependencies and additional information for the user&gt;
 
  %mdorder(inlib=preads,outlib=a,mdlib=m)
 
  This reads the data library referenced by the libref preads, orders the
  variables as defined by the metadata residing in the library referenced by
  the libref m, sorts the data sets as by the primary keys defined in the
  metadata and writes the resultant data sets to the library a.
 
--------------------------------------------------------------------------------
Assumptions: &lt;Scope and preconditions&gt;
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
--------------------------------------------------------------------------------
     Author &amp;
Ver#  Peer Reviewer   Request #        Broad-Use MODULE History Description
---- ---------------- --------------- ------------------------------------------
1.0   Gregory Steffens BMRMI30JAN2006B Original version of the broad-use
       Vijay Sharma                         module January 2006
1.1   Gregory Steffens BMRMI20FEB2007B SAS version 9 migration
       Michael Fredericksen
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdport_17"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdport </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
/*soh===========================================================================
  Eli Lilly
   PROGRAM NAME    : mdport.sas            Temporary Object Prefix: _mdport
   TYPE            : user utility
   PROGRAMMER      : Greg Steffens
   DESCRIPTION     : Creates a SAS transport file containing all metadata sets
                      and the descriptions catalog. This can be used to backup
                      a metadatabase or to send metadata somewhere as one
                      transport file that can be imported on any platform.
   LANGUAGE/VERSION: SAS/Version 8
   VALIDATOR       :
   INITIATION DATE : 18Jun2004
   INPUT FILE(S)   : none
   OUTPUT FILE(S)  : none
   XTRNL PROG CALLS: ut_parmdef ut_logical ut_mdmake
--------------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description
   -------- -------- -------- --------------------------------------------------
   MDLIB    required          Libref of SAS library that includes the metadata
   MDPREFIX optional          Prefix to apply to the metadata set names
   SELECT   optional          Blank delimited list of data set names defined
                               by the metadata to include in the transport file.
                               All data sets are included by default.  The
                               MDMAKE parameter must have a true value for
                               the SELECT parameter to be activated.
   EXCLUDE  optional          Blank delimited list of data set names defined
                               by the metadata to exclude from the transport
                               file.  No data sets are excluded by default.  The
                               MDMAKE parameter must have a true value for
                               the EXCLUDE parameter to be activated.
   OUTFILE  required          physical path of tranport file to create
   FTP      required 0        %ut_logical value specifying whether or not to
                               ftp the transport file to OUTFILE.  When the
                               transport file is to be created on a different
                               operating system than the one where the SAS
                               session is executing then ftp should usually be
                               true.  For example, when running a PC SAS session
                               to create a transport file on MVS you should
                               set the FTP parameter to a true value.
   HOST     optional MVS      Name of the host to create OUTFILE on when FTP
                               has a true value.
   MDMAKE   required 1        %ut_logical value specifying whether to call
                               the mdmake macro to process the metadata
                               before creating the transport file.  If MDMAKE
                               is false then SELECT and EXCLUDE are not
                               processed.  MDMAKE will add or drop variables to
                               the metadata to make it strictly in conformance
                               with the standard metadata structure.
   VERBOSE  required 1        %ut_logical value specifying whether verbose mode
                               is on or off
   DEBUG    required 0        %ut_logical value specifying whether debug mode is
                               on or off
 
  Usage Notes:
 
  Typical Macro Calls:
 
 
--------------------------------------------------------------------------------
                         REVISION HISTORY
================================================================================
  REV#  Date       User ID   Description
  ----  ---------  --------  ---------------------------------------------------
  001   ddmmmyyyy
eoh===========================================================================*/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdprint_18"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdprint </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME    : mdprint
TYPE                     : metadata
DESCRIPTION              : Prints meta data sets as a data specification.
                            Creates an HTML file with hperlinks, a SAS listing
                            or any other SAS ODS output destination.
DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\General\
                            Broad_use_modules\SAS\mdprint\mdprint-mdcpput DL.doc
SOFTWARE/VERSION#        : SAS/Version 8 and 9
INFRASTRUCTURE           : MS Windows, MVS, SDD
BROAD-USE MODULES        : ut_logical ut_titlstrt ut_errmsg mdmake mdcpput
                           ut_htmlhead ut_parmdef mdmoddt
INPUT                    : As defined by the MDLIB parameter
OUTPUT                   : As defined by the optional HTMLFILE parameter
                            Otherwise the SAS listing file or other ODS
                            destination
VALIDATION LEVEL         : 6
REGULATORY STATUS        : GCP
TEMPORARY OBJECT PREFIX  : _mp
--------------------------------------------------------------------------------
Parameters:
 Name        Type     Default    Description and Valid Values
------------ -------- ---------- -----------------------------------------------
MDLIB        required            Libref of library containing meta data sets
HTML         required 0          %ut_logical value specifying whether to create
                                 an html document instead of a SAS listing file
HTMLFILE     optional            Name of file to contain the html document when
                                  HTML is true
HTMLFILEREF  optional            Fileref of file to contain the html document
                                  when HTML is true
 
MULT_HTML    optional 0          %ut_logical value specifying whether or not to
                                  create separate html files for each data set.
 
LMARGIN      required 0          Number of columns to reserve for the left margin
                                  - applies only when HTML is false
INPREFIX     optional            Prefix of meta data set names residing in MDLIB
                                  This is passed to INPREFIX parameter of the
                                  mdmake macro
SELECT       optional            A blank delimited list of data set names defined
                                  in the MDLIB metadata to limit processing to.
EXCLUDE      optional            A blank delimited list of data set names defined
                                  in the MDLIB metadata to exclude from
                                  processing
DESCRIPTIONS required 1          %ut_logical value specifying whether or not to
                                  print variable descriptions
VALUES       required 1          %ut_logical value specifying whether or not to
                                  print variables valid values and code/decode
                                  mappings
TITLE        optional            Title to add to existing titles.  The datetime of
                                  last modification made to the metadata is
                                  added to the title text specified with the
                                  TITLE parameter, unless the SELECT or EXCLUDE
                                  parameters are specified.  The default title
                                  is Database Specification followed by the date
                                  and time the metadata in MDLIB was last
                                  modified.
LABELLONG    required 1          %ut_logical value specifying whether to print
                                  the variable long label.
USERFORMATS  required 1          %ut_logical values specifying whether format
                                  names where formatflag is 2, 3 or 4 will be
                                  printed from the COLUMNS and COLUMNS_PARAM
                                  metadata.
MAXVALUESOBS  optional max       Maximum number of observations in the VALUES to
                                  print for each variable.  MAX means to print
                                  all observations.  Otherwise specify an
                                  integer.
ADDHEADER    required 1          %ut_logical passed to mdmake. Specifies whether
                                  to print header variables in each data set
                                  they are copied into.  If false the header
                                  variables are printed only in the source data
                                  set it is originally created in.  If true the
                                  header variables are printed in every data set
                                  they can exist in.
VERBOSE      required 1          %ut_logical value specifying whether verbose
                                  mode is on or off
DEBUG        required 0          %ut_logical value specifying whether debug mode
                                  is on or off
--------------------------------------------------------------------------------
Usage Notes:
 
If mdprint is called in the SDD environment and the MULT_HTML parameter is
true, the the user is required by SDD to declare each output html file to SDD
as an output html file.
--------------------------------------------------------------------------------
Assumptions:
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
    libname m '&lt;directory where metadata resides&gt;' access=readonly;
 
    %mdprint(mdlib=m,html=1,htmlfile=h:\myreqs.html,title=My Data Requirements)
    will generate a single html file
 
    %mdprint(mdlib=m,html=1,htmlfile=h:\myreqs.html,title=My Data Requirements,
     mult_html=yes)
    Will generate one html file per data set defined in the metadata plus
    one top level html file that links these all together.  This speeds the
    time to open the html file and also fixes a problem with a browser limit of
    the number of links in a single html can contain.
 
    %mdprint(mdlib=m)
    will generate a SAS listing
--------------------------------------------------------------------------------
     Author &amp;
Ver#  Peer Reviewer    Request #        Broad-Use MODULE History Description
---- ----------------- ---------------- ----------------------------------------
1.0   Gregory Steffens BMRGCS23Apr2005A Original version of the broad-use module
       Sheetal Lal
1.1   Gregory Steffens BMRMSR20FEB2007C SAS version 9 migration
       Michael Fredericksen
2.0   Gregory Steffens BMRGCS14Jan2008  Added TSHORT variable from the TABLES
       Russ Newhouse                     metadata set
                                        Added HTMLFILEREF parameter (SDD needs
                                         this)
                                        Do not append modification date to title
                                         if title is null
                                        Reduced whitespace at various places
                                        Added MULT_HTML parameter
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mdshortlong_19"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mdshortlong </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME    : mdshortlong
TYPE                     : metadata and data transform
DESCRIPTION              : Renames variables between long and short names
                            defined in metadata.
DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\General\
                            Broad_use_modules\SAS\mdshortlong\mdshortlong DL.doc
SOFTWARE/VERSION#        : SAS/Version 8 and 9
INFRASTRUCTURE           : Windows, MVS
BROAD-USE MODULES        : ut_parmdef ut_logical ut_titlstrt mdmake ut_errmsg
INPUT                    : data sets modified in library specified by the LIB
                            parameter
                           metadata as specified by the MDLIB parameter
OUTPUT                   : data sets modified in library specified by the LIB
                            parameter
                           SAS program as specified by the OUTPROG parameter
VALIDATION LEVEL         : 6
REGULATORY STATUS        : GCP
TEMPORARY OBJECT PREFIX  : _sl
--------------------------------------------------------------------------------
Parameters:
Name     Type     Default  Description and Valid Values
-------- -------- -------- --------------------------------------------------
MDLIB    required          Libref where metadata resides
LIB      optional          Libref of input library.  If specified then the
                            variables in this library will be renamed using
                            PROC DATASETS.  If not specified then SAS code
                            can be written to OUTPROG based solely on
                            metadata in MDLIB.  If OUTPROG is specified then
                            these PROC DATASETS are not executed - instead
                            a program is written to a file that does the
                            renames when you run that program.  It is still
                            usefull to specify LIB even when you specify
                            OUTPROG because the macro can verify the
                            existence of variables.
MODE     required l2s      Mode of rename - long name to short name (l2s) or
                            short name to long name (s2l)
OUTPROG  optional          Name of file to write a SAS program to that
                            does the renaming.  This program can be
                            sent with the data library so that the
                            receiver of the data can run the program to
                            rename variables.  This is usefull when
                            it is required to use a V5 transport file
                            of data that contains long names.  When OUTPROG
                            is specified then a program is written to that
                            file and the proc datasets are not executed to
                            execute any renames.
OUTPROGL optional data     Libref to define in the OUTPROG program file.
                            If LIB is specified then OUTPROGL is assigned
                            the same value as LIB, even if OUTPROGL was
                            specified differently in the call to mdshortlong.
MDPREFIX optional          Prefix to apply to metadata set names in MDLIB
SELECT   optional          Blank delimited list of data set names defined
                            in the metadata to limit processing to.
EXCLUDE  optional          Blank delimited list of data set names defined
                            in the metadata to exclude from processing
VERBOSE  required 1        %ut_logical value specifying whether verbose mode
                            is on or off
DEBUG    required 0        %ut_logical value specifying whether debug mode
                            is on or off
 
--------------------------------------------------------------------------------
Usage Notes:
 
  A version 5 transport file is required for FDA data submissions.  V5
  transport files do not support long names.  The mdshortlong macro can
  rename the variables in LIB to the short names defined in metadata residing
  in MDLIB.  A transport file can then be created containing this data.  The
  mdshortlong macro can then be executed again to create SAS code in OUTPROG
  that renames variables from their short names to their long names.  This
  program can be sent with the transport file so the FDA can easily rename
  variables from short names to long names so they exactly match the source
  database in LIB.
 
  Either LIB or OUTPROG or both must be specified when calling mdshortlong.
 
--------------------------------------------------------------------------------
Assumptions:
 
  Metadata resides in MDLIB and includes the map between long names and short
  names defined in the COLUMNS data set.  The long variable name is in
  COLUMN and the corresponding short name is in CSHORT.  The mdshortlong macro
  will rename variables when the COLUMNS metadata set contains a value in
  CSHORT that is different from the value in COLUMN.  This rename is most often
  done for values of COLUMN that with a length greater than 8, but the rename
  is done even for values of COLUMN that are less than 8.
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
 
  Example I:
 
  libname ads 'path where data resides';
  libname md  'path where metadata resides' access=readonly;
  %mdshortlong(lib=ads,mdlib=md)
 
  This will rename long variable names to short variable names of data sets
  that reside in the library ADS according to the mapping of names in metadata
  that reside in the library MD.
  A version 5 SAS transport file can be created from this modified library.
  Do a PROC COPY before calling mdshortlong if you want to keep both the
  long and short named database.
 
  Example II:
 
  libname md  'path where metadata resides' access=readonly;
  %mdshortlong(lib=ads,mdlib=md,mode=l2s,outprog=\path\sasprog.sas)
 
  This will write a SAS program to \path\sasprog.sas that renames variables
  from their short names to their long names.
  This program can be run on the data that is extracted from the transport file
  to convert the short names back to the long names.
 
--------------------------------------------------------------------------------
     Author &amp;
Ver#   Peer Reviewer   Request #        Broad-Use MODULE History Description
----  ---------------- ---------------- ----------------------------------------
1.0   Gregory Steffens BMRMRM16DEC2005B Original version of the broad-use
       Vijay Sharma                      module  December 2005
1.1   Gregory Steffens BMRMRM21FEB2007A SAS version 9 migration
       Michael Fredericksen
2.0   Gregory Steffens                  Support table renames using tshort
 **eoh*************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="missvars_20"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>missvars </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
/*soh===========================================================================
  Eli Lilly and Company
   PROGRAM NAME    : missvars.sas            Temporary Object Prefix: _mv
   PROGRAMMER      : Greg Steffens
   DESCRIPTION     : Reports what variables are always missing in an input data
                      set or an input library of data sets.  Optionally creates
                      copies of the input data set(s) in the output library
                      after dropping variables that are always missing.
   LANGUAGE/VERSION: SAS/Version 8
   INITIATION DATE :
   VALIDATOR       :
   INPUT FILE(S)   : none
   OUTPUT FILE(S)  : none
   XTRNL PROG CALLS: %ut_logical
--------------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description
   -------- -------- -------- --------------------------------------------------
   LIBREF   required work     libref of input library of data sets
   DATA     optional null     name of data set in LIBREF to check for
                               missing value variables
   OUTLIB   optional null     if specified output data sets will be created
                               using this libref - the names of the data
                               sets will be the same as those of the input
                               data sets but the output data set will not
                               include variables which always contain missing
                               values
   SPECMISC optional see note Special missing value codes for character
                               variables.  The list must conform to the IN
                               operator requirements.
   SPECMISN optional see note Special missing value codes for numeric variables.
                               The list must conform to the IN operator
                               requirements.
   ALLVARS  required 0        %ut_logical value specifying whether to include
                               variables that have non-missing values in the
                               list of variables.  If false only variables
                               that are always missing are included in the list
                               of variables generated by the macro.
   DEBUG    required 0        turns debug mode on/off with %ut_logical value
 
 
  Usage Notes:
 
  A list of variables is sent to the log and prin files with an indication of
  whether they have only missing values.  If ALLVARS is true all variables are
  in the list.  If ALLVARS is false then only variables with all missing values
  are in the list.
 
  The usual special missing values of .A - .Z as well as . will be used
  for numeric variables.  For character variables ' ', '.a' and '.A' will be
  considered missing by default.  The SPECMISN and SPECMISC parameters are
  used when additional values are to be considered missing, for example when
  numeric values of 9 are meant to mean missing.
 
	Typical call:
 
            libref in 'path';
            %missvars(libref=in);
 
  Future enhancement ideas:
 
--------------------------------------------------------------------------------
                         REVISION HISTORY
================================================================================
  REV#  Date       User ID   Description
  ----  ---------  --------  ---------------------------------------------------
  001   ddmmmyyyy
eoh===========================================================================*/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="mrtf_tpl_21"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>mrtf_tpl </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
 
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="setup_22"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>setup </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
   Macro Name               : setup
   Description              : Creates a standard program execution environment
                               for SAS programs created in the CDISC SDTM/ADAM
                               pilot project.  Standard librefs and SAS options
                               are defined which are the same for off-line
                               programming and SDD programming.  This minimizes
                               the amount of code that needs to be changed when
                               moving the code from off-line to SDD.
  -----------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
  --------- -------- -------- -------------------------------------------------
  STATUS    optional DRAFT    The validation status of the code -
                               DRAFT or FINAL
                               This determines whether the draft or final
                               directories are used in the LIBNAMEs.
  MACLIB    optional          The macro library directory or directories.  If
                               specified, an OPTIONS SASAUTOS statment is
                               issued.
  USERNAME  optional          Username of SDD account
  PASSWORD  optional          Password of SDD account for user USERNAME
  DRIVE     optional  C       This macro will create the standard directory
                               tree on your C drive when calling the macro
                               outside of SDD.  The DRIVE parameter allows you
                               to write the directory tree to another drive
                               letter.
                               If DRIVE = webdav, then webdev libnames will be
                                issued.
  PROXY    optional            Name of proxy server if you are executing SAS
                                outside of SDD and behind a VPN.
  -----------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
    %setup
 
    This simple call issues LIBNAMEs to the draft directories and SAS options.
 
 
    %setup(status=final)
 
    This call issues LIBNAMEs to the final directories and issues SAS options.
 
 
  -----------------------------------------------------------------------------
  Ver#  Author           Broad-Use MODULE History Description
  ----  ---------------- ------------------------------------------------------
  1.0   Gregory Steffens Original version of the macro
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="setup_all_23"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>setup_all </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
   Macro Name               : setup
   Description              : Creates a standard program execution environment
                               for SAS programs created in the CDISC SDTM/ADAM
                               pilot project.  Standard librefs and SAS options
                               are defined which are the same for off-line
                               programming and SDD programming.  This minimizes
                               the amount of code that needs to be changed when
                               moving the code from off-line to SDD.
  -----------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
  --------- -------- -------- -------------------------------------------------
  STATUS    optional DRAFT    The validation status of the code -
                               DRAFT or FINAL
                               This determines whether the draft or final
                               directories are used in the LIBNAMEs.
  RTF_FILE  optional          If specified this defines the filename of the
                               rtf file specified in the ODS statement.  The
                               directory path and filetype should not be
                               specified - these are derived from the STATUS
                               parameter and an assumption of a standard
                               directory tree that includes a TFLs directory.
                               If the RTF_FILE parameter is not specified in
                               the macro call then an ODS statement is not
                               issued.
  MACLIB    optional          The macro library directory or directories.  If
                               specified, an OPTIONS SASAUTOS statment is
                               issued.
  USERNAME  optional          Username of SDD account
  PASSWORD  optional          Password of SDD account for user USERNAME
  DRIVE     optional  C       This macro will create the standard directory
                               tree on your C drive when calling the macro
                               outside of SDD.  The DRIVE parameter allows you
                               to write the directory tree to another drive
                               letter.
  -----------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
    %setup
 
    This simple call issues LIBNAMEs to the draft directories and SAS options.
 
 
    %setup(status=final)
 
    This call issues LIBNAMEs to the final directories and issues SAS options.
 
 
    %setup(rtf_file=ae_severity)
 
    This call ads an ODS statment to the rtf destination and defines the output
     filename to be ae_severity.  The full destination is
     &amp;drive:\cdisc_pilot\PROGRAMS\&amp;status\TFLs\ae_severity.rtf
     Where status is the value of the status parameter.
  -----------------------------------------------------------------------------
  Ver#  Author           Broad-Use MODULE History Description
  ----  ---------------- ------------------------------------------------------
  1.0   Gregory Steffens Original version of the macro
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="thin2wide_24"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>thin2wide </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : thin2wide
   TYPE                     : data transformation
   DESCRIPTION              : Transforms a tall-thin data set into a short-wide
                               data set, e.g. the observat tall-thin structure
                               can be transformed to a short-wide data
                               structure with this macro.
   DOCUMENT LIST            : &lt;Enter name and location of the Broad-Use Module
							      Document List&gt;
   SOFTWARE/VERSION#        : SAS/Version 8 and 9
   INFRASTRUCTURE           : Windows, MVS, Unix
   BROAD-USE MODULES        : ut_parmdef mdmake ut_marray
   INPUT                    : as defined by the DATA and MDLIB parameters
   OUTPUT                   : as defined by the OUT parameter
   VALIDATION LEVEL         : 6
   REGULATORY STATUS        : GCP
   TEMPORARY OBJECT PREFIX  : _tw
  -----------------------------------------------------------------------------
  Parameters:
   Name         Type     Default  Description and Valid Values
  ------------- -------- -------- -------------------------------------------------
  DATA          required          Name of the input data set that is in a
                                   tall-thin structure containing the parameter
                                   variable PARAM_VAR and one or more parameter
                                   related variables PARAMREL_VARS.
  OUT           required          Name of output data set that is to be created
                                   in a short-wide structure.  Observations in
                                   DATA are collapsed, PARAM_VAR is dropped and
                                   each PARAMREL_VARS results in an array of
                                   new variables where the number of elements
                                   in the array is the number of unique values
                                   of PARAM_VAR.
  MDLIB         optional          Libref of metadata that includes a
                                   specification of DATA.  see usage note.
  MDPREFIX      optional          Prefix of the metadata set names
  MDSELECT      optional DATA
 
  MDEXCLUDE     optional
drop mdexclude?
 
  PKEYS         optional          List of primary key variables of DATA when
                                   MDLIB is not specified
  PARAM_VAR     optional          Name of the parameter variable in DATA when
                                   MDLIB is not specified
 
support more than one param var ?
 
 
  PARAMREL_VARS optional          List of variable names that are parameter
                                   related variables when MDLIB is not specified
  VERBOSE       required 1        %ut_logical value specifying whether verbose
                                   mode is on or off
  DEBUG         required 0        %ut_logical value specifying whether debug mode
                                   is on or off
  -----------------------------------------------------------------------------
  Usage Notes:
 
  This macro will replace the variables PARAM_VAR and PARAMREL_VARS with an
  array of variables whose names are specified in the metadata set
  columns_param paramrelcol.  If the metadata does not specify this name then
  a name will be created by this macro.  When the variables are dropped the
  output data set is rekeyed and observations are collapsed to create a more
  short-wide data set structure.  PARAM_VAR is a primary key and the number
  of its values determines the number of new variables created for each
  paramrel_vars variable.
 
  Either MDLIB or all of PKEYS PARAM_VAR and PARAMREL_VARS must be specified.
  If MDLIB and the other parameters are specified then MDLIB takes precedence.
  If MDLIB and the parameter is specified and MDLIB does not contain the
  information then the parameter value is used.
 
  The metadata in MDLIB must contain at least:
  COLUMNS      : table column cpkey
  COLUMNS_PARAM: table column param paramrel paramrelcol ptype plength plabel
                 pformat pformatflag
 
  Double quotes will be compressed out of PLABEL values in the COLUMNS_PARAM
  metadata set.
 
  -----------------------------------------------------------------------------
  Assumptions:
 
  The metadata in MDLIB must correctly describe the data set named by the DATA
  parameter.  This can be verified by running the mdcheck macro to compare
  the metadata to the data set.  If COLUMNS_PARAM does not contain all the
  values of the PARAM_VAR variable or if not all the parameter related
  variables are defined then the macro will not transform DATA correctly.  If
  MDLIB is not specified and the parameters are instead then the parameter
  values must be correct to get the expected transformation of DATA.
 
  -----------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
  -----------------------------------------------------------------------------
      Author	&amp;
Ver#   Peer Reviewer   Request #        Broad-Use MODULE History Description
----  ---------------- ---------------- ----------------------------------------
1.0   Gregory Steffens &lt;BUM Request#&gt;   Original version of the broad-use module
       &lt;Peer Reviewer name&gt;
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="title_footnote_25"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>title_footnote </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : title_foot
   AUTHOR                   : Greg Steffens
   DESCRIPTION              : Determines what the last unused title line number
                              is and returns the value in a macro variable
                              specified by the  tstartvar parameter.  Does the
                              same for footnotes.
   INFRASTRUCTURE           : Windows, MVS
--------------------------------------------------------------------------------
  Parameters:
   Name      Type     Default  Description and Valid Values
   --------  -------- -------- -------------------------------------------------
   TSTARTVAR required titlstrt Name of macro variable that is assigned the
                                first available title line number
   DEBUG     required 0        %ut_logical value specifying whether to turn
                                debug mode on or not
--------------------------------------------------------------------------------
  Usage Notes:
 
--------------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
    title4 'tst';
    footnote2 'test';
    %title_foot;
    %put titlstrt=&amp;titlstrt    footstrt=&amp;footstrt;
 
    Result:  titlstrt=5    footstrt=3
 
 
    %titlstrt;
    title&amp;titlstrt &quot;this is the first unused title line&quot;;
    title%eval(&amp;titlstrt + 1) &quot;the next unused title line&quot;;
    .
    .
    .
    title&amp;titlstrt;  to be put at end of macro to clear titles it used
 
--------------------------------------------------------------------------------
 **eoh*************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_age_years_26"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_age_years </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME    : ut_age_years
TYPE                     : utility, data transform
DESCRIPTION              : Computes age in years between two dates.  Age is
                            computed as an integer or as a decimal value,
                            as specified by the DECIMAL parameter.
DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\Clinical\General\
                           Broad-Use Modules\SAS\Ut_age_years\
                           Validation Deliverables\ut_age_years
SOFTWARE/VERSION#        : SAS/Version 8 and 9
INFRASTRUCTURE           : MS Windows, MVS
BROAD-USE MODULES        : ut_parmdef ut_logical
INPUT                    : Called in a data step containing the two date
                            variables
OUTPUT                   : a specified variable containing the computed age in
                            years
VALIDATION LEVEL         : 6
REGULATORY STATUS        : GCP
TEMPORARY OBJECT PREFIX  : _age
--------------------------------------------------------------------------------
Parameters:
 Name     Type     Default    Description and Valid Values
--------- -------- ---------- --------------------------------------------------
FROMVAR   required            Name of variable containing the starting SAS date
                               of the period to compute age for - e.g. birth
                               date
TOVAR     required            Name of variable containing the ending SAS date of
                               the period to compute age for - e.g. consent date
OUTVAR    required age        Name of output variable that will contain the age
                               computed by this macro. This macro will create
                               this variable, it need not be declared by
                               the user prior to the macro call.
DECIMAL   required 1          %ut_logical value specifying whether to include
                               a decimal portion in OUTVAR. A true value will
                               result in the age value in OUTVAR being a
                               decimal value.  A false value will result in the
                               age value in OUTVAR being an integer value.
DEBUG     required 0          %ut_logical value specifying whether to turn
                               debug mode on or off
--------------------------------------------------------------------------------
Usage Notes:
 
  Must be called in a data step
 
  The values of the variables specified by FROMVAR and TOVAR must be valid
  SAS date values, ie. an integer value indicating the number of days from
  January 1, 1960.
 
  Reference formula:
 
   age=floor((intck('month',&amp;fromvar,&amp;tovar)-(day(&amp;tovar) &lt; day(&amp;fromvar)))/12);
 
   This macro enhances this reference formula by adding support for decimal
   ages and negative ages.  The reference formula was taken from www.sas.com
   technical tips.
--------------------------------------------------------------------------------
Assumptions:
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
   %ut_age_years(fromvar=birthdt,tovar=consentdt)
      creates a numeric variable named AGE that contains the decimal value of
      the number of years from BIRTHDT to CONSENTDT
 
   %ut_age_years(fromvar=birthdt,tovar=consentdt,outvar=lbage)
   This will create a variable named LBAGE the contains a decimal age value.
 
   %ut_age_years(fromvar=birthdt,tovar=consentdt,decimal=no)
   This will create a variable named AGE that contains an integer age value.
--------------------------------------------------------------------------------
     Author &amp;
Ver#  Peer Reviewer    Request #        Broad-Use MODULE History Description
---- ---------------- ---------------- -----------------------------------------
1.0  Gregory Steffens BMRGCS10Dec2004A Original version of the broad-use module
      Nihar Rath                        07Jan2005
1.1  Gregory Steffens BMRMRM21FEB2007B Migration to SAS version 9
      Michael Fredericksen
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_authenticate_27"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_authenticate </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : ut_authenticate
   TYPE                     : utility
   DESCRIPTION              : Reads user id and password from a file for a
                               specified object or prompts the user if this file
                               is not found.  Used to provide authentication
                               information to calling macros so userid and
                               password do not need to be hardcoded in SAS
                               programs.
   DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\General\
                               Broad_use_modules\SAS\ut_authenticate\
                               ut_authenticate DL.doc
   SOFTWARE/VERSION#        : SAS/Version 8 and 9
   INFRASTRUCTURE           : MS Windows, MVS, Unix
   BROAD-USE MODULES        : %ut_logical, %ut_errmsg, %ut_parmdef
   INPUT                    : as defined by the AUTHFILE parameter
   OUTPUT                   : N/A
   VALIDATION LEVEL         : 6
   REGULATORY STATUS        : GCP
   TEMPORARY OBJECT PREFIX  : _au
  ------------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
  --------- -------- -------- --------------------------------------------------
   OBJECT   optional          Name of object to authenticate to.  This can be
                               the name of a server or an IP address or anything
                               else.  The value of OBJECT must match the first
                               token of a line in AUTHFILE, if the AUTHFILE
                               is used.  If AUTHFILE is not used then this
                               macro will prompt for userid and password for
                               the object specfied with the OBJECT parameter.
   USER     required username Name of macro variable in the calling macro that
                               this macro will place the username in.
                               A userid can also be passed into this macro by
                               by assigning a userid to the macro variable
                               whose name is specified by the USER parameter.
   PASS     required password Name of macro variable in the calling macro that
                               this macro will place the password in.
                               A password can be passed into this macro by
                               by assigning a password to the macro variable
                               whose name is specified by the PASS parameter.
   AUTHFILE optional see note Name of the file containing the OBJECT, USER and
                               PASS information.  AUTHFILE can be used to store
                               userids and passwords for any number of objects.
                               If the AUTHFILE is not found then this macro will
                               prompt the user for this information.
   PROMPT   required 1        %ut_logical value specifying whether to prompt for
                               the userid if it is not specified with the
                               USER parameter or found in AUTHFILE and
                               the password if it is not specified with the
                               PASS parameter or found in AUTHFILE.
   DEBUG    required 0        %ut_logical value specifying whether to turn debug
                               mode on or off
  ------------------------------------------------------------------------------
  Usage Notes:
 
  This macro is recommended to be used when you need to put a userid/password
  into a SAS program, such as when accessing oracle, establishing remote
  sessions with SAS/Connect and when issuing ftp filenames.  This will allow
  you to avoid placing userid/passwords in your program files.  It also helps
  when rerunning a program over a period of time when you have changed your
  password - no change to the program is required when a password is changed
  because the password is looked up in AUTHFILE each time it is executed or
  the password is prompted for if AUTHFILE is not used.
 
  Default AUTHFILE is the home directory .netrc for unix, for MS windows
  searches d:\ c:\ h:\ for a file named netrc, for MVS &lt;userid&gt;.netrc.  If
  this default AUTHFILE is not found then a message is displayed in the log
  file and the macro continues.  The user is prompted for userid and password
  if PROMPT is true.
 
  This macro ignores the keywords &quot;machine&quot;, &quot;login&quot; and &quot;password&quot;, to be
  compatible with the unix standard for this file.  But this macro requires
  that the machine/object be first, the login/userid be second and the password
  be third in one line of AUTHFILE.
 
  The format of the lines in AUTHFILE are therefore:
      mvs rmxxxxx mymvspassword
      OR
      machine mvs login rmxxxxx password mymvspassword
  Multiple lines in AUTHFILE may exist to allow for different objects and
  userids.  The first token of the line is the OBJECT, the second the USER and
  the third is the PASS.
 
  It is recommended that the macro variables specified in the USER and PASS
  parameters be set to null after the macro calling ut_authenticate is finished
  with them.  This will ensure that the password does not exist in temporary
  macro variables after their use.
 
  It is recommended to enter the PROC PWENCODE encoded password in the netrc
  file to enhance security.
 
  Note that SAS version 8 on MVS does not find the default AUTHFILE of .netrc.
  This is due to a bug with the fileexist function in SAS.  To use an AUTHFILE
  on MVS, use SAS version 9 or specify the AUTHFILE without a leading dot.
  ------------------------------------------------------------------------------
  Assumptions:
 
  ------------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
  %ut_authenticate(object=mvs)
 
  ------------------------------------------------------------------------------
     Author	&amp;							Broad-Use MODULE History
Ver#  Peer Reviewer   Request #       Description
---- ---------------- --------------- ------------------------------------------
1.0  Gregory Steffens BMRMSR17JUL2007 Original version of the broad-use module
 
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_catchange_28"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_catchange </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : ut_catchange
   TYPE                     : utility
   DESCRIPTION              : Changes all occurrences of one or more text
                               strings in all entries in INCAT and writes the
                               result to OUTCAT.
   DOCUMENT LIST            : &lt;Enter name and location of the Broad-Use Module
                              Document List&gt;
   SOFTWARE/VERSION#        : SAS/Version 8 and 9
   INFRASTRUCTURE           : Windows, MVS, Unix
   BROAD-USE MODULES        : ut_parmdef ut_quote_token ut_marray
   INPUT                    : &lt;List all files and their production locations
                               including AUTOEXEC files, if applicable&gt;
   OUTPUT                   : &lt;List all files [e.g. data sets] and
                               file types [e.g. macro variable]&gt;
   VALIDATION LEVEL         : 6
   REGULATORY STATUS        : &lt;Enter applicable regulatory status [e.g. GCP,
                               GLP, GMP, GPP, NDR (non drug related)
                               regulations, non-regulated, or N/A]. Refer to
                               Statistics Glossary for the definition of each
                               of the terms.&gt;
   TEMPORARY OBJECT PREFIX  : &lt;Enter unique ID for each broad-use module.
                               See Broad-Use Module Request.&gt;
  -----------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
  --------- -------- -------- -------------------------------------------------
  INCAT     required          one or two level name of input catalog that will
                               be read by this macro
  OUTCAT    required INCAT    one or two level name of the output catalog that
                               will be written by this macro.
  SELECT    optional          list of entry names whose contents will be
                               evaluated and changed.  If unspecified all
                               entries are selected.
  EXCLUDE   optional          list of entry names whose contents will not be
                               evaluated and changed.  If unspecified no entry
                               is excluded.
  TYPES     required source   list of entry types that are processed by this
                               macro
  FROM      required          the text string to search for to change
  TO        required          the text string th change to
  DELIMIT   required space    the delimiter that separates multiple FROM and TO
                               value pairs.
  VERBOSE   required 1        %ut_logical value specifying whether verbose mode
                               is on or off
  DEBUG     required 0        %ut_logical value specifying whether debug mode
                               is on or off
 
  -----------------------------------------------------------------------------
  Usage Notes: &lt;Parameter dependencies and additional information for the user&gt;
 
  -----------------------------------------------------------------------------
  Assumptions: &lt;Scope and preconditions&gt;
 
  -----------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
  -----------------------------------------------------------------------------
		 Author	&amp;							  Broad-Use MODULE History
  Ver#   Peer Reviewer   Request # 		      Description
  ----  ---------------- ---------------      --------------------------------
  1.0   Gregory Steffens &lt;Enter BUM Request#&gt; Original version of the broad-use
        &lt;Peer Reviewer name&gt;                  module
 
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_cport_29"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_cport </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME    : ut_cport
TYPE                     : utility
DESCRIPTION              : Creates a SAS transport file from a SAS library.
                            The transport file can be written to a local or
                            remote host.
DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\Clinical\
                            Broad-Use Modules\SAS\UT_CPORT\
                            Validation Deliverables\UT_CPORT DL.doc
SOFTWARE/VERSION#        : SAS/Version 8 and 9
INFRASTRUCTURE           : MS Windows, MVS
BROAD-USE MODULES        : ut_parmdef ut_logical
INPUT                    : SAS library as defined by LIB parameter
OUTPUT                   : transport file as defined by FILE parameter
VALIDATION LEVEL         : 6
REGULATORY STATUS        : GCP
TEMPORARY OBJECT PREFIX  : _cp
--------------------------------------------------------------------------------
Parameters:
 Name     Type     Default    Description and Valid Values
--------- -------- ---------- --------------------------------------------------
LIB       required            Libref of SAS library that includes the data
                               library to be put in the transport file
SELECT    optional            Blank delimited list of data set names defined
                               by the metadata to include in the transport file.
                               All data sets are included by default.
EXCLUDE   optional            Blank delimited list of data set names defined
                               by the metadata to exclude from the transport
                               file.  No data sets are excluded by default.
FILE      required             physical path of tranport file to create
HOST      optional            Name of the foreign host to create OUTFILE on.
                               When HOST is specified, ftp will be used to copy
                               FILE to the foreign host.  When HOST is not
                               specified, FILE will be created on a local file
                               system.
VERBOSE   required 1          %ut_logical value specifying whether verbose mode
                               is on or off
DEBUG     required 0          %ut_logical value specfifying whether debug mode
                               is on or off
--------------------------------------------------------------------------------
Usage Notes: &lt;Parameter dependencies and additional information for the user&gt;
 
--------------------------------------------------------------------------------
Assumptions: &lt;Scope and preconditions&gt;
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
    I. To create a transport file on MVS from a PC library
        libname in 'd:\mactest\ut_cport\testdata\' access=readonly;
        %ut_cport(lib=in,file=C037083.TEST.CPORT,host=mvs)
 
    II. To create a transport file on the PC from a PC library
        libname in 'd:\mactest\ut_cport\testdata\' access=readonly;
        %ut_cport(lib=in,file=d:\mactest\ut_cport\testdata\cport.xpt)
 
    III. To create a transport file on MVS from an MVS library
        libname in 'rmp.some.study.library' access=readonly;
        %ut_cport(lib=in,file=.cport.xpt)
--------------------------------------------------------------------------------
     Author &amp;
Ver# Peer Reviewer     Request #        Broad-Use MODULE History Description
---- ----------------- --------------- -----------------------------------------
1.0   Gregory Steffens BMRGCS09Feb2005A Original version of the broad-use module
       Nihar Ranjan
1.1   Gregory Steffens BMRMRM21FEB2007C SAS version 9 migration
       Michael Fredericksen
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_entrycomp_30"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_entrycomp </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME   : ut_entrycomp
TYPE                    : utility
DESCRIPTION             : Compares two SAS catalogs and reports the
                           differences
REQUIREMENTS            : https://sddchippewa.sas.com/webdav/lillyce/qa/general/
                           bums/mdmoddt/documentation/ut_entrycomp_rd.doc
SOFTWARE/VERSION#       : SAS/Version 8 and 9
INFRASTRUCTURE          : MS Windows, MVS
BROAD-USE MODULES       : ut_parmdef ut_logical ut_titlstrt ut_errmsg
                           ut_quote_token
INPUT                   : As defined by the CAT1 and CAT2 parameters
OUTPUT                  : As defined by the OUT parameter
                          One output file containing the differences
                           listing - the name of the file is in the title
                           of the entry status listing and follows the
                           naming convention of Compare.&lt;cat1 libref&gt;
                          Printed report in the SAS listing file
                          Temporary files created (not deleted when DEBUG
                           is true):
                           file containing contents of each catalog entry
                           file containing differences of each pair of
                            catalog entried from CAT1 and CAT2
VALIDATION LEVEL        : 6
REGULATORY STATUS       : GCP
TEMPORARY OBJECT PREFIX : _ec
--------------------------------------------------------------------------------
Parameters:
 Name     Type     Default Description and Valid Values
--------- -------- ------- -----------------------------------------------------
CAT1      required          2-level SAS name of catalog member libref.catalog
CAT2      required          2-level SAS name of catalog member libref.catalog
SELECT    optional          A list of catalog entries to compare.
                            If not specified all entries are compared
                            The entries should be specified as 2-level names
                            name.type e.g. resproj.source
CAT1LABEL optional &amp;cat1   Label to use in titles when referring to CAT1
CAT2LABEL optional &amp;cat2   Label to use in titles when referring to CAT2
PRINTDIF  required 1000     Maximum number of lines to print of the
                            differences between catalog entries when COMPMETH
                            is OS.
MODE      required LISTALL  LISTALL LISTBASE LISTCOMP
OUT       optional          Name of output data set written (one or two level
                            SAS data set name).  A null value indicates that
                            no output data set will be created.
COMPMETH  required os       Method to use when comparing catalog entry contents.
                             OS = use the operating system command
                                  MS windows uses fc
                                  MVS uses proc isrsupc (ispf comparison)
                                  unix uses diff
                                  SDD uses compmeth=proc (proc compare)
                             PROC = use proc compare
                             If running in SDD COMPMETH is forced to PROC.
VERBOSE   required 0        %ut_logical value specifying whether verbose mode
                            is on or off
DEBUG     required 0        %ut_logical value specifying whether debug mode
                            is on or off
--------------------------------------------------------------------------------
Usage Notes:
 
  This macro compares entries in catalog CAT1 with the entries in catalog CAT2.
  It reports entries in one catalog but not both as well as the entries in
  common (by name and type).  For the entries in common the content of the
  entries are compared to each other and a listing is generated of the
  entries that are the same and that are not the same.  A flat file is
  created listing all the differences in all the files.  The name of the flat
  file is COMPARE.&amp;CAT1 where &amp;CAT1 is the catalog name of the CAT1
  parameter.  The format of this flat file depends on the operating system it
  is run on.  On windows the FC command is used.  On MVS the ISPF file
  comparison is used.
 
  This macro compares the contents of catalog entry types only of
  source, program, scl and cbt - other types are binary files that cannot be
  compared.
--------------------------------------------------------------------------------
Assumptions: &lt;Scope and preconditions&gt;
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
  libname libref1 'path-name' access=readonly;
  libname libref2 'path-name' access=readonly;
  %ut_entrycomp(cat1=libref1.descriptions,cat2=libref2.descriptions)
--------------------------------------------------------------------------------
     Author &amp;
Ver# Peer Reviewer    Request #        Broad-Use MODULE History Description
---- ---------------- ---------------- -----------------------------------------
1.0  Gregory Steffens BMRGCS07Jun2005A Original version of the broad-use module
1.1  Gregory Steffens BMRMSR21FEB2007A SAS version 9 migration
2.0  Gregory Steffens BMR              Added a linefeed prior to message
      Russ Newhouse                     Comparing catlogs cat1label and
                                        cat2label
                                       Print a message that further lines are
                                        not printed and where the full
                                        differences file can be found when
                                        PRINTDIF line is reached.
                                       Fixed problem with length of macro
                                        variable value exceeding 65k by
                                        printing arrays same and notsame rather
                                        than creating a scaler variable with a
                                        a value of the full list of entry names.
                                       Changed put function call to use
                                        format of 32.0 instead of 4.0
                                        to increase the maximum number of
                                        catalog entries.
                                       Added COMPMETH parameter
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_errmsg_31"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_errmsg </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : ut_errmsg
   TYPE                     : utility
   DESCRIPTION              : This macro writes informational and
                               error messages to BOTH the SAS log and print
                               files.  Ut_errmsg also can abort SAS when the
                               messge type is worse than a pre-defined level.
   DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\General\
                               Broad_use_modules\SAS\ut_errmsg\ut_errmsg DL.doc
   SOFTWARE/VERSION#        : SAS/Version 8 and 9
   INFRASTRUCTURE           : MS Windows, MVS
   BROAD-USE MODULES        : ut_parmdef ut_logical
   INPUT                    : none
   OUTPUT                   : log and/or listing lines as defined by the MSG
                               LOG and PRINT parameters
   VALIDATION LEVEL         : 6
   REGULATORY STATUS        : GCP
   TEMPORARY OBJECT PREFIX  : _er
  -----------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
  --------- -------- -------- -------------------------------------------------
   MSG      required          The text of the error message to display.  Use PUT
                               syntax when in data step.  Use %PUT syntax when
                               not in a data step and PRINT is false.
   MACRONAME required         The name of the macro calling ut_errmsg.  This
                               macroname will be included when printing MSG so
                               the user is informed what macro generated the
                               message.
   TYPE     required NOTE     The type of error message - NOTE, WARNING or ERROR
                               if this TYPE exceeds the max_error_type global
                               macro variable value that can be set in the
                               autoexec then ut_errmsg will abort the SAS
                               program.
   LOG      required 1        %ut_logical value specifying whether to write the
                               error message to the SAS log file.
   PRINT    required 1        %ut_logical value specifying whether to write the
                               error message to the SAS print file.
   MAX      optional 25       The maximum number of times to write the error
                               message when called from a data step.  The error
                               message is written for each bad observation until
                               this limit is reached.  If MAX is null then no
                               limit is put on the number of times the error
                               message is written.
   COUNTER  required _errmsg  The name of the variable used to count up to MAX.
                               If your data set already has a variable of this
                               default name then override the name with this
                               parameter.
   FILEBACK optional LOG      The fileref to return to when ut_errmsg completes.
                               This applies only when ut_errmsg is called inside
                               a data step.  Ut_errmsg issues a FILE statment
                               so if the calling macro requires a fileref to be
                               active then ut_errmsg has to be told what this
                               fileref is.
   VERBOSE  required see note %ut_logical value specifying whether verbose mode
                               is on or off.  Default is the value of the
                               DEBUG parameter
   DEBUG    required 0        %ut_logical value specifying whether debug mode
                               is on or off
  -----------------------------------------------------------------------------
  Usage Notes: &lt;Parameter dependencies and additional information for the user&gt;
 
The TYPE must be NOTE, WARNING, or ERROR.  The TYPE will be prefixed
to the text specified in MSG and the type will have the letter U prefixed to
it.  So,
  %ut_errmsg(msg='invalid value for variable SYMTYP: ' SYMTYP,type=warning,
   macroname=callingmacro)
will print
  UWARNING(callingmacro): invalid value for variable SYMTYP: badvalue of symtyp
in the log and print files.
 
FILEBACK is advised when a PUT statement follows a call to UT_ERRMSG in a data
step.
 
The global macro variable MAX_ERROR_TYPE can be assigned one of three values
prior to calling the ut_errmsg macro in order to specify when the ut_errmsg
macro may abort-abend the SAS program when the condition exists.  The
MAX_ERROR_TYPE global macro variable may be set in the autoexec or anywhere
else prior to the call to ut_errmsg.
If MAX_ERROR_TYPE is NOTE then if TYPE is WARNING or ERROR then ut_errmsg will
 abort the program.
If MAX_ERROR_TYPE is WARNING then if TYPE is ERROR then ut_errmsg will
 abort the program.
If MAX_ERROR_TYPE is ERROR then ut_errmsg will never abort the program.
 
Use a different COUNTER value in each call to UT_ERRMSG within the same data
step.
 
Although most calls to UT_ERRMSG can be followed safely with a semicolon, there
are circumstances (in IF/THEN/ELSE blocks) where a semicolon can cause a SAS
error when following a call to UT_ERRMSG.
 
When PRINT is true, use PUT syntax as a value of MSG.
When PRINT is false and not in a data step use %PUT syntax as a value of MSG.
When PRINT is false and in a data step use PUT syntax as a value of MSG.
 
PRINT and LOG should not both be false. otherwise no message will be generated.
  -----------------------------------------------------------------------------
  Assumptions: &lt;Scope and preconditions&gt;
 
  -----------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
  -----------------------------------------------------------------------------
        Author &amp;                          Broad-Use MODULE History
  Ver#   Peer Reviewer   Request #        Description
  ----  ---------------- ---------------- --------------------------------------
  1.0   Gregory Steffens BMRGCS15Mar2005A Original version of the
         Srinivasa Gudipati                    broad-use module 29Mar2005
  1.1   Gregory Steffens BMRMSR29JAN2007A SAS version 9 migration
         Michael Fredericksen
  2.0   Gregory Steffens                  Do not abort when executing in SDD
 
  3.0   Gregory Steffens BMRMSR23JUL2007
 
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_find_long_chars_32"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_find_long_chars </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME    : ut_find_long_chars
TYPE                     : utility
DESCRIPTION              : Lists character variables whose allocated length
                            is greater than MAXLENGTH and reports the actual
                            maximum used length.
DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\General\
                            Broad_use_modules\SAS\ut_find_long_chars\
                            ut_find_long_chars DL.doc
SOFTWARE/VERSION#        : SAS/Version 8 and 9
INFRASTRUCTURE           : Windows, MVS
BROAD-USE MODULES        : ut_parmdef ut_logical ut_quote_token ut_errmsg
                            ut_titlstrt
INPUT                    : data sets in library specified by the LIB
                            parameter
OUTPUT                   : Optional output data set as specified by the
                            OUT parameter
VALIDATION LEVEL         : 6
REGULATORY STATUS        : GCP
TEMPORARY OBJECT PREFIX  : _fl
--------------------------------------------------------------------------------
Parameters:
Name      Type     Default    Description and Valid Values
--------- -------- ---------- --------------------------------------------------
LIB       required            Libref of input data library
OUT       required _fllengths Output data set name
SELECT    optional            Blank delimited List of data sets in LIB to
                               limit processing to
EXCLUDE   optional            Blank delimited List of data sets in LIB to
                               exclude from processing
MAXLENGTH required 200        The maximum length of a variable that will not
                               be reported as a long variable.  Variables
                               with a length greater than this value will be
                               reported.
VERBOSE   required 1          %ut_logical value specifying whether verbose
                               mode is on or off
DEBUG     required 0          %ut_logical value specifying whether debug
                               mode is on or off
--------------------------------------------------------------------------------
Usage Notes:
 
--------------------------------------------------------------------------------
Assumptions:
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
  %ut_find_longchars(lib=a)
 
  This macro call find character variables with an allocated length greater
  than 200 and lists these along with their maximum actual length.
 
 
  %ut_find_longchars(lib=a,maxlength=1)
 
  This macro call find character variables with an allocated length greater
  than 1 and list these along with their maximum actual length.  This will
  help find character variables whose allocated length is longer than required
  to hold the actual values.
 
--------------------------------------------------------------------------------
        Author &amp;
Ver#   Peer Reviewer   Request #       Broad-Use MODULE History Description
----  ---------------- --------------- -----------------------------------------
1.0   Gregory Steffens BMRMRM16DEC2005A     Original version of the broad-use
       Vijay Sharma                           module  December 2005
1.1   Gregory Steffens BMRMRM21Feb2007D Migration to SAS version 9
       Michael Fredericksen
2.0   Gregory Steffens                      Added sorts of _fllongchars and
                                             _flmaxlen - this was required
                                             in SDD/unix.
                                            Added labels to output data set
                                             variables and proc print.
 **eoh*************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_htmlhead_33"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_htmlhead </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME   : ut_htmlhead
TYPE                    : utility
DESCRIPTION             : Writes standard HTML header tags - tags DOCTYPE,
                           HTML, HEAD and TITLE and HTML ending tags -
                           /BODY and /HTML
REQUIREMENTS            : https://sddchippewa.sas.com/webdav/lillyce/qa/general/
                           bums/mdmoddt/documentation/ut_htmlhead_rd.doc
SOFTWARE/VERSION#       : SAS/Version 8 and 9
INFRASTRUCTURE          : MS Windows, MVS, SDD
BROAD-USE MODULES       : ut_parmdef ut_logical
INPUT                   : optional title and header tags as defined by
                           parameters TITLE and HEADTAGS
OUTPUT                  : literal text strings output by a PUT statement that
                           create HTML file start tags:
                            HTML  HEAD  META and style
VALIDATION LEVEL        : 6
REGULATORY STATUS       : GCP
TEMPORARY OBJECT PREFIX : none needed
--------------------------------------------------------------------------------
Parameters:
 Name     Type     Default    Description and Valid Values
--------- -------- ---------- --------------------------------------------------
TITLE     optional            Title text to insert in title tag
END       required 0          If 1 then the end tags are generated
                              If 0 then the start tags are generated
HEADTAGS  optional            other html header tags to include - use PUT
                               statement syntax.  These tags will be added to
                               the standard tags this macro automatically
                               generates - inside &lt;head&gt;    &lt;/head&gt;.
--------------------------------------------------------------------------------
Usage Notes: &lt;Parameter dependencies and additional information for the user&gt;
 
  The header tags added when END is false (default) are:
 
    &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&gt;
    &lt;HTML&gt;
    &lt;HEAD&gt;
    &lt;META http-equiv=&quot;Content-Style-Type&quot; content=&quot;text/css&quot;&gt;
    &lt;META http-equiv=&quot;Content-Type&quot; Content=&quot;text/html; charset=ISO-8859-1&quot;&gt;
    &lt;title&gt;&amp;title&lt;/title&gt;
    the value of the HEADTAGS parameter are inserted here
    &lt;style type=&quot;text/css&quot;&gt;
    PRE { font-size: 12pt }
    &lt;/style&gt;&lt;/HEAD&gt;&lt;BODY&gt;
 
  When END is true then these tags are added instead:
 
    &lt;/BODY&gt;
    &lt;/HTML&gt;
 
 
   This macro defines a CHARSET tag of ISO-8859-1 and as such does not support
   the full Greek alphabet.  The Greek letter mu is supported.
--------------------------------------------------------------------------------
Assumptions: &lt;Scope and preconditions&gt;
 
  Must be called inside a data step - this macro generates a PUT statement.
  The current FILE in the data step must be the html file being created.
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
  data _null_;
    set input_data end=eof;
    file 'my.html';
    %ut_htmlhead(title=My HTML title)
    put 'other html content ...';
    if eof then %ut_htmlhead(end=yes);
  run;
--------------------------------------------------------------------------------
     Author &amp;
Ver# Peer Reviewer    Request #        Broad-Use MODULE History Description
---- ---------------- ---------------- -----------------------------------------
1.0  Gregory Steffens BMRGCS03Apr2005A Original version of the broad-use module
      Srinivasa Gudipati                03Apr2005
1.1  Gregory Steffens BMRMSR21FEB2007B Migration to SAS version 9
      Michael Fredericksen
2.0  Gregory Steffens BMRGCS10JAN2008  Changed macro name in calls to
      Shong Demattos                    ut_parmdef from ut_html_head to
                                        ut_htmlhead
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_libname_34"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_libname </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
 
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_logical_35"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_logical </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : ut_logical
   TYPE                     : utility
   DESCRIPTION              : Translates various logical values to the two
                               Boolean logical values 0 and 1.  This is useful
                               to call for macro parameters so that users can
                               have a consistent choice of values for truth and
                               falsity.  GUI and BUMs can benefit from this to
                               support foreign languages.
   DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\Clinical\General\
                               Broad-use modules\SAS\ut_logical\
                               Validation deliverables\ut_logical DL.doc
   SOFTWARE/VERSION#        : SAS/Version 8 and 9
   INFRASTRUCTURE           : MS Windows, MVS, SDD
   BROAD-USE MODULES        : ut_parmdef
   INPUT                    : none
   OUTPUT                   : none
   VALIDATION LEVEL         : 6
   REGULATORY STATUS        : GCP
   TEMPORARY OBJECT PREFIX  : _lo
  ------------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
  --------- -------- -------- --------------------------------------------------
   VARNAME  required          Name of the variable containing the text to
                               translate to a boolean value of 0 or 1.  This is
                               a positional parameter.
   VARTYPE  required macro    The type of VARNAME - i.e.
                               MACRO for macro variable
                               DATAC for data set character variable
                               DATAN for data set numeric variable
   MAX      see note 25       The number of times to display error messages when
                               VARTYPE is not macro.  This required when VARTYPE
                               is not MACRO and is ignored otherwise.
   COUNTER  see note _logn_   The name of the variable to use to count the
                               number of time an error message is displayed
                               when VARTYPE is not macro.  This variable name
                               is created in the data step but dropped from the
                               data set.  This required when VARTYPE is not
                               MACRO and is ignored otherwise.
  ------------------------------------------------------------------------------
  Usage Notes:
 
   recognized TRUTH values: Y T YES TRUE  ON  JA   OUI
   recognized FALSE values: N F NO  FALSE OFF NEIN NON
 
   Takes logical values of SAS variables and translates to a consistent Boolean
   value, so that callers do not all have to check for Y T TRUE etc.
 
   Specify a different COUNTER value with each call to LOGICAL from within a
    single data step.
  ------------------------------------------------------------------------------
  Assumptions:
 
   Can be called in a macro when VARNAME is a macro variable name
   or can be called in a data step when VARNAME is a data set variable.
   Use the VARTYPE parameter to specify the type of VARNAME
 
  ------------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
    %ut_logical(verbose)   : translates macro parameter &quot;verbose&quot; to 1 or 0
 
    data a.habits;
      set r.hb;
      %ut_logical(smoke)   : translates the value of SMOKE from Y to 1 and
      .                    from N to 0, assuming SMOKE has the values Y and N
      .                    indicating whether the patient smokes or not.
      .
    run;
 
  ------------------------------------------------------------------------------
		 Author	&amp;							  Broad-Use MODULE History
  Ver#   Peer Reviewer   Request # 		      Description
  ----  ---------------- ---------------      ----------------------------------
  001   Greg Steffens    BMRGCS21JUN2004A     Original version of the broad-use
          Guangbin Peng                        module 21Jun2004
  002   Greg Steffens    BMRMI07FEB2006A      Changed ut_parmdef call to specify
           Vijay Sharma                        _pdverbose false so the user does
                                               not see needless lines in the log
                                               file
                                              Changed header comment: references
                                               from logical to ut_logical
                                              Infrastructure includes MVS and
                                               MS Windows rather than only
                                               windows
                                              Improved description of the
                                               COUNTER parameter
                                              Made MAX and COUNTER parameters
                                               required only when VARTYPE is not
                                               MACRO.
                                              Changed message text to be
                                               consistent with ut_errmsg format.
  2.1   Gregory Steffens BMRMI29JAN2007A      SAS version 9 migration
         Michael Fredericksen
  2.2   Gregory Steffens BMRMSR24May2007     SDD validation
 
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_marray_36"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_marray </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME   : ut_marray
TYPE                    : utility
DESCRIPTION             : Creates an array of macro variables containing
                           delimited values from an input variable.
                          Creates an array of variables from one variable
                           which has a list of values.
REQUIREMENTS            : https://sddchippewa.sas.com/webdav/lillyce/qa/general/
                           bums/mdmoddt/documentation/ut_marray_rd.doc
SOFTWARE/VERSION#       : SAS/Version 8 and 9
INFRASTRUCTURE          : MS Windows, MVS, SDD
BROAD-USE MODULES       : ut_parmdef ut_logical
INPUT                   : one macro variable as defined by INVAR parameter
OUTPUT                  : macro variables as defined by the OUTVAR parameter
VALIDATION LEVEL        : 6
REGULATORY STATUS       : GCP
TEMPORARY OBJECT PREFIX : none required
--------------------------------------------------------------------------------
Parameters:
 Name     Type     Default    Description and Valid Values
--------- -------- ---------- --------------------------------------------------
INVAR     required            Name of variable containing list of tokens to
                               put into array elements
OUTVAR    required            Stem of the name of the array variables (i.e.
                               the name without the numbers)
OUTNUM    required see note   Name of the variable returning the number of
                               array elements created to the caller. The default
                               value is &quot;num&quot; followed by the value of
                               the OUTVAR parameter.
DLM       required blank ,    Delimeters between tokens in INVAR parameter
VARLIST   optional            Name of variable that returns the list of array
                               element names to the caller
VERBOSE   required 0          ut_logical value specifying whether verbose mode
                               is on or off
DEBUG     required 0          ut_logical value to turn debug mode on or off
--------------------------------------------------------------------------------
Usage Notes:
 
     The intended use of ut_marray is to be called by another macro to create
     an array of macro variables each element of which has as a value an item
     in a list of items passed into the macro via INVAR.
 
     %local dsnelems numdsns;
     %ut_marray(invar=dsnlist,outvar=dsn,outnum=numdsns,varlist=dsnelems);
     %local &amp;dsnelems;
     %ut_marray(invar=dsnlist,outvar=dsn,outnum=numdsns)
 
  when %ut_marray is called with varlist it creates a list of macro array
  variable element names in the varlist variable.  This allows the caller to
  declare the array variables as local to the calling macro.  The second call
  without varlist creates the macro array but the variables are now local to
  the caller rather than local to ut_marray.  The array elements are named
  dsn1 dsn2 etc. and can be referenced by the calling macro as &amp;&amp;dsn&amp;i where
  i is the index to the array.
--------------------------------------------------------------------------------
Assumptions:
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
--------------------------------------------------------------------------------
     Author &amp;
Ver# Peer Reviewer    Request #        Broad-Use MODULE History Description
---- ---------------- ---------------- -----------------------------------------
1.0  Gregory Steffens BMRGCS01Apr2005A Original version of the broad-use module
                                        01Apr2005
1.1  Gregory Steffens BMRMSR21FEB2007C Migration to SAS version 9
       Michael Fredericksen
2.0  Gregory Steffens BMRGCS12Dec2007  Migration to SDD
      Russ Newhouse
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_mkdir_37"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_mkdir </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
 
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_os_38"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_os </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : ut_os
   VERSION NUMBER           : 1
   TYPE                     : utility
   AUTHOR                   : Gregory Steffens
   DESCRIPTION              : Determines the operating system name and assigns
                               to a macro variable.
   SOFTWARE/VERSION#        : SAS/Version 8
   INFRASTRUCTURE           : Windows, MVS, Unix
   PEER REVIEWER            : &lt;Enter broad-use module Peer Reviewer's name(s)&gt;
   VALIDATION LEVEL         : 6
   DOCUMENT LIST            : &lt;Enter name and location of the Broad-Use Module
                               Document List&gt;
   REGULATORY STATUS        : GCP
   CREATION DATE            : &lt;Enter date file was opened and coding began -
                               DD/MMM/YYYY&gt;
   TEMPORARY OBJECT PREFIX  : &lt;Enter unique ID for each broad-use module.
                               See Broad-Use Module Request.&gt;
   BROAD-USE MODULES        : ut_parmdef ut_logical
   INPUT                    : &lt;List all files and their locations&gt;
   OUTPUT                   : &lt;List all files and their locations and
                               file types&gt;
--------------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
   -------- -------- -------- --------------------------------------------------
   OSVAR    required os       The name of a macro variable to hold
                               the name of the operating system this macro is
                               running in.
   SDDVAR   optional in_sdd   The name of a macro variable to hold SDD return -
                              Returns a value of 1 if running in SDD and a value
                               of 0 otherwise.
   VERBOSE  required 1
   DEBUG    required 0
 
--------------------------------------------------------------------------------
  Usage Notes:  &lt;Parameter dependencies and additional information for the user&gt;
 
    The value of osvar is usually the value of &amp;sysscp, but it assigns a value
     of &quot;unix&quot; for any of the unix operating systems.  The case of the value
     of osvar is lower case.
 
--------------------------------------------------------------------------------
  Assumptions: &lt;Scope and preconditions&gt;
 
--------------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
    %local os;
    %ut_os
 
--------------------------------------------------------------------------------
                     BROAD-USE MODULE HISTORY
  Ver#  Author           Description
  ----  ---------------  -------------------------------------------------------
  001   Gregory Steffens  Original version of the broad-use module
 
 **eoh*************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_parmdef_39"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_parmdef </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : ut_parmdef
   TYPE                     : utility
   DESCRIPTION              : Called by macros to process their parameters.
                               Assigns a default value to each
                               parameter of the calling macro.
                               Verifies that the parameter's value is in the
                                list of allowed values.
                               Defines parameters are required or optional.
   DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\Clinical\General\
                              Broad-use Modules\SAS\ut_parmdef\ut_parmdef DL.doc
   SOFTWARE/VERSION#        : SAS/Version 8 and 9
   INFRASTRUCTURE           : MS Windows, MVS, SDD
   BROAD-USE MODULES        : none
   INPUT                    : none
   OUTPUT                   : none
   VALIDATION LEVEL         : 6
   REGULATORY STATUS        : GCP
   TEMPORARY OBJECT PREFIX  : _pd
  -----------------------------------------------------------------------------
  Parameters:
 Name         Type     Default Description and Valid Values
------------- -------- ------- -----------------------------------------------
_PDPARMNAME   required         Positional parameter whose value is the name of
                                the parameter of the calling macro that is
                                being processed by ut_parmdef
_PDDEFAULT    optional         Positional parameter whose value is the value
                                assigned to _PDPARMNAME when _PDPARMNAME has
                                the value of _default_ assigned to it. If
                                _PDPARMNAME has a value other than _default_
                                then the value of _PDPARMNAME is not changed.
                                If the value of _PDPARMNAME has the value of
                                 _default_ then the value of DEFAULT is assigned
                                 to _PDPARMNAME.
                                The actual and default values are printed to
                                 the log file.
                                In this and the following parameter descriptions
                                 the term _PDPARMNAME means the parameter of the
                                 calling macro whose name is specified in the
                                 _PDPARMNAME parameter of ut_parmdef.
_PDALLOWED    optional         Positional parameter specifying a blank-
                                delimited list of allowed values for
                                _PDPARMNAME.
_PDREQUIRED   required 0       A logical value specifying whether _PDPARMNAME
                                is a required parameter and does not accept a
                                null value.  %ut_logical is not called - only
                                the values 1 and 0 are supported (for yes/no)
_PDMACRONAME  optional         The name of the macro calling ut_parmdef - this
                                macro name is included in the verbose output
                                messages of ut_parmdef so that the user knows
                                to which macro the message applies.
_PDVERBOSE    required 1       A logical value specifying whether verbose
                                mode is on or off.  If true then lines are
                                listed in the log file that describe
                                _PDPARMNAME (its name, actual value and default
                                value)
                                %ut_logical is not called - only the values
                                 1 and 0 are supported (for yes/no)
_PDIGNORECASE required 1       A logical value specifying whether or not to
                                ignore the case of the values when comparing
                                _PDPARMNAME to the list of allowed values in
                                _PDALLOWED.
                                %ut_logical is not called - only  the values
                                 1 and 0 are supported (for yes/no)
_PDABORT      required 1       A logical value specifying whether or not to
                                abort the program when _PDPARMNAME is not in
                                the list of allowed values in _PDALLOWED.
                                If _pdabort is true the SAS session is aborted
                                if:
                                1.) a required parameter has a null value
                                2.) a parameter has an invalid value
                                3.) and the global variable max_error_type is
                                    not equal to &quot;error&quot;.
                                %ut_logical is not called - only  the values
                                 1 and 0 are supported (for yes/no)
--------------------------------------------------------------------------------
  Usage Notes:
 
   Every other macro should call PARMDEF to assign default values to each of
   its parameters.  This will print the parameter list with actual and
   default values to the SAS log file for documentation.  This method also
   facilitates calling macros specifying to called macros to use the called
   macro defaults.  The calling macro does not need to specify the actual
   default value - it just tells the called macro to use its defaults.  This
   facilitates maintenance of macros since calling macros need not change if
   a decision is made to change the defaults of called macros.
 
   The parameters of the parmdef macro begin with &quot;_pd&quot; in order to avoid
   problems with the scope of macro variables.  If a calling macro has a
   parameter name in common with parmdef then parmdef cannot assign a value
   to the calling macro's parameter.  So, the prefix is added to the
   parameters of parmdef to ensure no other macro has a parameter of the same
   name.
 
  -----------------------------------------------------------------------------
  Assumptions:
 
  -----------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
   %ut_parmdef(type,data,data view,_pdrequired=1,_pdmacroname=caller)
                           assigns a default value of &quot;data&quot; to the parameter
                            TYPE and makes this a required parameter.  Allowed
                            values are either &quot;data&quot; or &quot;view&quot;.  Used the
                            recommended parameter &quot;_pdmacroname&quot; to specify
                            the name of the macro that calls ut_parmdef as
                            &quot;caller&quot;.
 
   %ut_parmdef(outdlib,r)  assigns the default value of &quot;r&quot; to the parameter
                           OUTDLIB
 
   %ut_parmdef(data)       assigns the default value of null to the parameter
                           DATA
 
   %ut_parmdef(ok,0,0 1)   assigns a default value of &quot;0&quot; to the parameter OK
                           if no value is specified in the call, but checks
                           a value specified in the call to verify it is either
                           0 or 1.
  -----------------------------------------------------------------------------
		 Author	&amp;							  Broad-Use MODULE History
  Ver#   Peer Reviewer   Request # 		      Description
  ----  ---------------- ---------------      ---------------------------------
  1.0   Greg Steffens    BMRGCS23Jun2004B     Original version of the broad-use
         Hui-Ping Chen                         module 23Jun2004
  2.0   Greg Steffens    BMRKW26JAN2006A      Added _pdignorecase parameter
          Vijay Sharma                         (deliberately not backward
                                               compatible with version 1)
                                              Added _pdabort parameter
                                               (deliberately not backward
                                               compatible with version 1).  If
                                               _pdabort is true and the global
                                               macro variable max_error_type is
                                               not equal to ERROR then
                                               ut_parmdef will abort SAS if
                                               _PDPARMNAME has a null value and
                                               _PDREQUIRED is true or if
                                               _PDPARMNAME has a value not
                                               allowed by _PDALLOWED.
                                              If _pdrequired is false then a
                                               null value is added to the
                                               allowed values of the parameter.
                                              Changed header comment to refer
                                               to ut_logical instead of logical
                                               macro
                                              Added some section macro comments
                                               for clarity
  2.1   Gregory Steffens BMRKW30JAN2007A      SAS version 9 migration
         Michael Fredericksen
  3.0   Gregory Steffens                      Do not abort when executing in SDD
                                              Fixed bug when value of
                                               _pdparmname variable contains a
                                               percent sign.  Changed
                                               &amp;&amp;&amp;_pdparmname and &amp;_pdallowed
                                               quoting to nrbquote or qupcase.
                                              Removed reference to ut_logical
                                               from the header comment since
                                               this BUM is not called.
  2.2    Gregory Steffens BMRMSR24May2007     SDD validation
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_progname_40"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_progname </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : ut_progname
   VERSION NUMBER           : 1
   TYPE                     : utility
   AUTHOR                   : Gregory Steffens
   DESCRIPTION              : &lt;Provide brief description of requirements&gt;
   SOFTWARE/VERSION#        : SAS/Version 8
   INFRASTRUCTURE           : Windows, MVS
   PEER REVIEWER            : &lt;Enter broad-use module Peer Reviewer's name(s)&gt;
   VALIDATION LEVEL         : 6
   DOCUMENT LIST            : &lt;Enter name and location of the Broad-Use Module
                               Document List&gt;
   REGULATORY STATUS        : &lt;Enter status [GCP, GLP, GMP, GPP, NDR (nondrug
                               related) regulations, non-regulated, or N/A.]&gt;
   CREATION DATE            : &lt;Enter date file was opened and coding began -
                               DD/MMM/YYYY&gt;
   TEMPORARY OBJECT PREFIX  : _pn
   BROAD-USE MODULES        : ut_parmdef ut_logical ut_titlstrt
   INPUT                    : &lt;List all files and their locations&gt;
   OUTPUT                   : &lt;List all files and their locations and
                               file types&gt;
--------------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
   -------- -------- -------- --------------------------------------------------
   OUTVAR   required sasprog  Root name of macro array created by this macro.
                               The numbers &quot;1&quot;, &quot;2&quot; etc will be added to the
                               end of this root name when creating the macro
                               variables that are the array elements.
   OUTVNUM  required numprogs Name of macro variable created that contains the
                               number of elements in the macro variable array
                               OUTVAR
   VERBOSE  required 1        %ut_logical value specifying whether verbose mode
                               is on or off
   DEBUG    required 0        %ut_logical value specfifying whether debug mode
                               is on or off
 
--------------------------------------------------------------------------------
  Usage Notes:  &lt;Parameter dependencies and additional information for the user&gt;
 
--------------------------------------------------------------------------------
  Assumptions: &lt;Scope and preconditions&gt;
 
--------------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
 
--------------------------------------------------------------------------------
                     BROAD-USE MODULE HISTORY
  Ver#  Author           Description
  ----  ---------------- -------------------------------------------------------
  001   Gregory Steffens Original version of the broad-use module
 **eoh*************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_quote_token_41"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_quote_token </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME    : ut_quote_token
TYPE                     : utility
DESCRIPTION              : This module inserts double quotation marks around
                            each delimited token in the user-specified macro
                            variable.  Its input is a macro variable whose
                            value is a list of tokens.  Its output is a macro
                            variable whose value is these tokens with quotes
                            added around each token.  If a token already has
                            double quotes around it, no additional quotes are
                            added.  Single quotes surrounding a token are
                            replaced with double quotes.
SOFTWARE/VERSION#        : SAS/Version 8 and 9
INFRASTRUCTURE           : MS Windows, MVS, SDD
BROAD-USE MODULES        : ut_parmdef ut_logical
INPUT                    : Macro variable whose value is a list of tokens
OUTPUT                   : Macro variable whose value is these tokens with
                            quotes added around each token
VALIDATION LEVEL         : 6
REGULATORY STATUS        : GCP
TEMPORARY OBJECT PREFIX  : none needed
--------------------------------------------------------------------------------
Parameters:
 Name     Type     Default    Description and Valid Values
--------- -------- ---------- --------------------------------------------------
INMVAR   required             Name of macro variable containing text to quote.
OUTMVAR  required &amp;INMVAR     Name of macro variable containing text in VAR
                               with quotes added.
DLM      required blank       A list of delimiter characters to split text in
                  comma        VAR into tokens.
DEBUG    required 0           %ut_logical value specifying whether debug mode
                               is on or off
--------------------------------------------------------------------------------
Usage Notes: &lt;Parameter dependencies and additional information for the user&gt;
 
  If a token already has double quotes around it none are added
 
  If INMVAR contains unbalanced quote signs this is a SAS syntax error and this
  macro cannot handle this situation.
--------------------------------------------------------------------------------
Assumptions: &lt;Scope and preconditions&gt;
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
   When a macro variable has a list which you want to use with the IN operator.
 
   if datavar in (&amp;quoted); can be inserted in a data step if you call
   %ut_quote_token(inmvar=nodquotes,outmvar=quoted) prior to the data step.
 
   When a macro variable contains a list of data sets you want to use in a
   SELECT statement
 
   %local selectq;  (assumes SELECT macro variable is a parameter of the macro)
   %ut_quote_token(inmvar=select,outmvar=selectq)
   proc copy in=in out=out;
     select &amp;selectq;
   run;
   when SELECT is SUBJINFO VITALS HABITS then
   SELECTQ is &quot;SUBJINFO&quot; &quot;VITALS&quot; &quot;HABITS&quot;
--------------------------------------------------------------------------------
     Author &amp;
Ver# Peer Reviewer    Request #        Broad-Use MODULE History Description
---- ---------------- ---------------- -----------------------------------------
1.0  Gregory Steffens BMRGCS11Mar2005A Original version of the broad-use module
                                         11Mar2005
1.1  Gregory Steffens BMRMSR21FEB2007E Migration to SAS version 9
      Michael Fredericksen
1.2  Gregory Steffens BMRMSR29OCT2007A Migration to SDD
      Shong DeMattos
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_saslogcheck_42"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_saslogcheck </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : ut_saslogcheck
   TYPE                     : utility
   DESCRIPTION              : The ut_saslogcheck is a platform independent
                              macro that scans the SAS log for occurrences of
                              certain text messages (e.g. ERROR, WARNING,
                              selected NOTEs, etc.) that may indicate a problem
                              with the code or the data, and produces a report
                              (summary and detail) of the findings.
   DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\Clinical\General\
                              Broad-Use Modules\SAS\ut_saslogcheck\
                              Validation Deliverables\ut_saslogcheck DL.Doc
   SOFTWARE/VERSION#        : SAS/Version 8 and 9
   INFRASTRUCTURE           : MS Windows, MVS, SDD
   BROAD-USE MODULES        : none - this BUM was designed to be stand-alone
                               and not require other BUMs or data sets
   INPUT                    : A SAS log file as defined by the parameters
                               LOGFILE and LOGREF.  On MVS the log file is
                               found in the path referenced by the DDNAME
                               altlog1.
                              A SAS data set named by the MSGDATA parameter
                               containing additional text strings to search for.
   OUTPUT                   : As defined by the parameters OUTFILE and
                               OUTFILEREF.  The default output is the SAS
                               print file.
   VALIDATION LEVEL         : 6
   REGULATORY STATUS        : GCP
   TEMPORARY OBJECT PREFIX  : _cl
  -----------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
  --------- -------- -------- -------------------------------------------------
   LOGFILE  optional          Full name of a file that contains a
                               SAS log
   LOGREF   optional          Fileref previously defined by a FILENAME
                               statement that points to a file
                               containing a SAS log
   OUTFILE  optional          The name of file to write the report to.
                               If this is not specified then the report
                               will be written to the print file, except
                               for MVS when executing the saslchk JCL
                               procedure, in which case it will be
                               written to the checklog ddname.
                               OUTPUT to PDS members is not supported
   OUTFILEREF optional        Fileref previously defined by a FILENAME
                               statement that points to a file where the
                               report will be written.
   MSGDATA  optional          Name of a data set that contains text strings
                               to search the log for.  These text strings
                               are added to the strings this macro searches
                               for.  This data set must contain a variable
                               named lookfor that is a character variable of
                               length 80.
   DEBUG    required 0        %ut_logical value specifying whether debug mode
                               is on or off
  -----------------------------------------------------------------------------
  Usage Notes:
 
       If neither LOGFILE nor LOGREF are specified then ...
        When running SAS for MS windows in DMS the contents of
         the log window in display manager is scanned by this macro.  Note
         that SAS writes log lines to a buffer prior to writing those lines
         to the log window.  This may result in some of the most recent log
         lines to be in the buffer and not in the log window when
         ut_saslogcheck is called.  Thus, messages in these buffered log lines
         will not be reported.
        When running an SDD process the contents of the log file of the current
         process execution is scanned by this macro.
 
       The ddname/fileref &quot;altlog1&quot; is reserved for MVS and should not
       be created by users.
 
       The code author will maintain the core list of text to be scanned
       for in the macro itself.  Additional text to be scanned for may
       optionally be defined by the user with the MSGDATA parameter.
 
       In MVS (batch and interactive), by using the SASLCHK
       JCL PROC and clist (see 'Typical macro call' below),
       the current SAS log is scanned as a second 'step' in
       the SAS session. There is therefore no need to specify
       the SAS log filename. In MVS the call to the SASLCHK
       macro is automatic and thus not explicitly coded by
       the user.
 
       The BUM macro does not call any utility BUM macros such as
       ut_parmdef or ut_logical.  This decision was made so that
       the ut_saslogcheck can stand alone and not require other macros
       to be executable.
 
  -----------------------------------------------------------------------------
  Assumptions:
 
  In MS Windows, a SAS configuration setting can cause a problem with
   the use of the DM command that this macro uses.  This applies when
   running SAS in display manager mode when your program uses the ODS
   statement.  To resolve the problem, start SAS display manager, click
   on &quot;Tools ... Options ... Preferences&quot;.  When the resulting dialog
   box appears, click on &quot;Results&quot;.  At the bottom of this dialog box
   select &quot;Preferred web browser&quot; in the &quot;View results using:&quot; section.
   If &quot;Internal browser&quot; is selected then SAS will not be able to
   evaluate the contents of the log window when you call this macro
 
  In SDD the log is referenced by the fileref _idxlog_.  The SDD application
   defines this fileref - the user should not do so.
  -----------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
    MSWindows - %ut_saslogcheck(logfile=h:\myprogram.log)
 
                fileref mylog 'h:\myprogram.log';
    MSWindows - %ut_saslogcheck(logref=mylog)
 
    MSWindows - %ut_saslogcheck    in display manager
 
    SDD       -  %ut_saslogcheck   no parameters required when scanning your
                                   current process log.
 
    MSWindows from DOS prompt - you can create a bat file like this and run
     it as &quot;saslchk &lt;filename&gt;&quot; where saslchk is the bat file and
     &lt;filename&gt; is the name of the log file (without the .log filetype)
 
        echo off
        set file=%~f1
        if &quot;%~x1&quot;==&quot;&quot; set file=%file%.log
        if not exist &quot;%file%&quot; (
         echo File does not exist param=%1 file=%file%
         goto end
        )
        echo Processing SAS log file %file%
        sas -initstmt &quot;%%ut_saslogcheck(logfile=%file%); %%put Processed %file%;&quot;
        :end
 
    MVS batch -
              //SAS        EXEC SASLCHK,SOUT=T
              //SYSPRINT   DD SYSOUT=*
              //SYSIN      DD *
              ...your...usual....SAS....code...;
 
    MVS interactive/TSO - Enter TSO or Workstation commands:
     ===&gt;saslchk
 
--------------------------------------------------------------------------------
        Author &amp;
  Ver#   Peer Reviewer   Request #         Broad-Use MODULE History Description
  ----  ---------------- ----------------- -------------------------------------
  1.0   Gregory Steffens BMRMSR28May2007   Original version of the broad-use
         Michael Fredericksen               module. This BUM started with the
                                            ut_sas8lchk BUM code - see that
                                            BUM header for history of its code.
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_search_catalog_43"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_search_catalog </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : ut_search_catalog
   TYPE                     : utility
   DESCRIPTION              : Searches all source entries in a catalog and
                               lists the names of the entries that contain a
                               specified text string.
   DOCUMENT LIST            : &lt;Enter name and location of the Broad-Use Module
                              Document List&gt;
   SOFTWARE/VERSION#        : SAS/Version 8 and 9
   INFRASTRUCTURE           : Windows, MVS, Unix
   BROAD-USE MODULES        : &lt;List all the broad-use modules called
                              by this module&gt;
   INPUT                    : &lt;List all files and their production locations
                               including AUTOEXEC files, if applicable&gt;
   OUTPUT                   : SAS listing file and an optional data set
   VALIDATION LEVEL         : N/A - used as a LUM for now or the use falls
                               outside the scope of the code validation SOP
   REGULATORY STATUS        : NDR (non drug related) non-regulated
   TEMPORARY OBJECT PREFIX  : _se
  -----------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
  --------- -------- -------- -------------------------------------------------
   CAT      required          One or two level name of a SAS catalog that
                               contains source entries whose contents will be
                               searched for a text string
   SEARCH   required          The text string that will be searched for in the
                               catalog specified by the CAT parameter
   OUT      optional          The name of an output data set containing the
                               names and type of catalog entries in CAT that
                               contain the string specfied by SEARCH.
   VERBOSE  required 1        %ut_logical value specifying whether verbose mode
                               is on or off.  If verbose is on then a listing
                               will be generated of the names of the entries
                               in CAT that contain the string specified by
                               SEARCH.  If VERBOSE is on or if OUT is null then
                               this listing is generated.  If VERBOSE is off
                               then the data steps that search the entry
                               contents are suppressed from the log file.
   DEBUG    required 0        %ut_logical value specifying whether debug mode
                               is on or off
  -----------------------------------------------------------------------------
  Usage Notes:
 
  The optional output data set will containg the variables ENTRY and TYPE.
 
  -----------------------------------------------------------------------------
  Assumptions: &lt;Scope and preconditions&gt;
 
  -----------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
  -----------------------------------------------------------------------------
		 Author	&amp;							  Broad-Use MODULE History
  Ver#   Peer Reviewer   Request # 		      Description
  ----  ---------------- ---------------      --------------------------------
  1.0   Gregory Steffens &lt;Enter BUM Request#&gt; Original version of the broad-use
        &lt;Peer Reviewer name&gt;                  module
 
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_titlstrt_44"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_titlstrt </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : ut_titlstrt
   TYPE                     : utility
   DESCRIPTION              : Determines what the first unused title line number
                              is and returns the value in a macro variable
                              specified by the  tstartvar parameter
   DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\Clinical\General\
                               Broad-use Modules\SAS\ut_titlstrt\
                               Validation Deliverables\ut_titlstrt DL.doc
                               Validation Deliverables
   SOFTWARE/VERSION#        : SAS/Version 8 and 9
   INFRASTRUCTURE           : MS Windows, MVS
   BROAD-USE MODULES        : ut_parmdef ut_logical
   INPUT                    : none
   OUTPUT                   : none
   VALIDATION LEVEL         : 6
   REGULATORY STATUS        : GCP
   TEMPORARY OBJECT PREFIX  : none
  -----------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description and Valid Values
  --------- -------- -------- -------------------------------------------------
  TSTARTVAR required titlstrt Name of macro variable that is assigned the
                                first available title line number
  DEBUG     required 0        %ut_logical value specifying whether to turn
                                debug mode on or not
  -----------------------------------------------------------------------------
  Usage Notes: &lt;Parameter dependencies and additional information for the user&gt;
 
  If all 10 title lines are used then TSTARTVAR will contain the number 10
  rather then the number 11, since SAS allows only 10 title lines.  A UWARNING
  is generated to inform you when this happens.
 
  This BUM macro is one way to meet the BUM design requirement to ensure that
  the titles that existed prior to the macro call still exist after the macro
  completes.  This BUM macro also allows titles to be retained when BUMs call
  other BUMs or any calling code defines titles that should be kept
  during execution of a BUM or LUM.
  -----------------------------------------------------------------------------
  Assumptions: &lt;Scope and preconditions&gt;
 
  -----------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
    %local titlstrt;
    %ut_titlstrt;
    title&amp;titlstrt &quot;this is the first unused title line&quot;;
    title%eval(&amp;titlstrt + 1) &quot;the next unused title line&quot;;
    .
    .
    .
    title&amp;titlstrt;  to be put at end of macro to clear titles it used
 
  -----------------------------------------------------------------------------
		 Author	&amp;							  Broad-Use MODULE History
  Ver#   Peer Reviewer   Request # 		      Description
  ----  ---------------- ---------------- -------------------------------------
  1.0   Gregory Steffens BMRGCS23Jun2004A Original version of the broad-use
         John Reese                        module 23Jun2004
  1.1   Gregory Steffens BMRMSR05JAN2007A SAS Version 9 migration
         Michael Fredericksen
  2.0   Gregory Steffens BMRMSR24JuL2007  SDD migration validation
                                          Added _pdrequired to the two calls
                                           to ut_parmdef
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="ut_truncate_long_chars_45"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>ut_truncate_long_chars </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME    : ut_truncate_long_Chars
TYPE                     : data transformation
DESCRIPTION              : Truncates character variables to the minimum length
                            required to hold the longest actual value.
                            All character variables with an allocated length
                            greater than a length specified by a parameter are
                            processed.
DOCUMENT LIST            : \\spreeprd\genesis\SPREE\QA\General\
                            Broad_use_modules\SAS\ut_truncate_long_chars\
                            ut_truncate_long_chars DL.doc
SOFTWARE/VERSION#        : SAS/Version 8 and 9
INFRASTRUCTURE           : MS Windows, MVS
BROAD-USE MODULES        : ut_parmdef ut_logical ut_titlstrt
                           ut_find_long_chars ut_errmsg
INPUT                    : data sets in library specified by the INLIB parameter
OUTPUT                   : data sets written to the library specified by the
                            OUTLIB parameter
VALIDATION LEVEL         : 6
REGULATORY STATUS        : GCP
TEMPORARY OBJECT PREFIX  : _tc
--------------------------------------------------------------------------------
Parameters:
Name      Type     Default  Description and Valid Values
--------- -------- -------- -------------------------------------------------
INLIB     required          Libref of the input library
OUTLIB    required work     Libref of the output library.
SELECT    optional          This is passed to ut_find_long_chars
EXCLUDE   optional          This is passed to ut_find_long_chars
MAXLENGTH required see note The maximum length of a variable that will not be
                             truncated.  Variables with a length greater than
                             this value will be reported and truncated.
                             Variables with a length less than this will not
                             be reported or truncated.  A MAXLENGTH of 0 will
                             cause all character variables to be truncated.
                             This is passed to ut_find_long_chars and uses
                             the default defined in ut_find_long_chars.
VERBOSE  required 1         %ut_logical value specifying whether verbose mode
                             is on or off
DEBUG    required 0         %ut_logical value specifying whether debug mode
                             is on or off
 
--------------------------------------------------------------------------------
Usage Notes:
 
--------------------------------------------------------------------------------
Assumptions:
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
  %ut_truncate_long_chars(inlib=a,outlib=b)
 
  This will truncate variables with allocated lengths greater than 200 down to
  the minimum length required to hold the longest actual value.
 
 
  %ut_truncate_long_chars(inlib=a,outlib=b,maxlength=0)
 
  This will truncate all character variables down to the minimum length required
  to hold the longest actual value.
 
--------------------------------------------------------------------------------
      Author &amp;
Ver#   Peer Reviewer   Request #        Broad-Use MODULE History Description
----  ---------------- ---------------- ----------------------------------------
1.0   Gregory Steffens BMRMRM16DEC2005C Original version of the broad-use
       Vijay Sharma                       module  December 2005
1.1 Gregory Steffens BMRMRM21FEB2007E   Migration to SAS version 9
     Michael Fredericksen
2.0   Gregory Steffens                  Added redefinition of format and
                                         informat variables when their
                                         length is changed.
                                        Added where clause so as to truncate
                                         variable lengths only when the actual
                                         length is less than the allocated
                                         length.
 **eoh*************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="utcomplibs_46"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>utcomplibs </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
   Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
   BROAD-USE MODULE NAME    : utcomplibs
   VERSION NUMBER           : 1
   TYPE                     : utility
   AUTHOR                   : Greg Steffens
   DESCRIPTION              : Compares one SAS library of data sets to another
   SOFTWARE/VERSION#        : SAS/Version 8
   INFRASTRUCTURE           : Windows, Unix
   PEER REVIEWER            : &lt;Enter broad-use module Peer Reviewer's name(s)&gt;
   VALIDATION LEVEL         : 6
   DOCUMENT LIST            : &lt;Enter name and location of the Broad-Use Module
                               Document List&gt;
   REGULATORY STATUS        : &lt;Enter status [GCP, GLP, GMP, GPP, NDR (nondrug
                               related) regulations, non-regulated, or N/A.]&gt;
   CREATION DATE            : 4AUG2004
   TEMPORARY OBJECT PREFIX  : &lt;Enter unique ID for each broad-use module.
                               See Broad-Use Module Request.&gt;
   BROAD-USE MODULES        : ut_parmdef ut_logical ut_titlstrt
   INPUT                    : ut_parmdef ut_logical
   OUTPUT                   : &lt;List all files and their locations and
                               file types&gt;
--------------------------------------------------------------------------------
  Parameters:
   Name       Type     Default  Description and Valid Values
   ---------- -------- -------- ------------------------------------------------
   LIB1       required          Libref of first library of data sets to compare
   LIB2       required          Libref of second library of data sets to compare
   NOBS       required 1        ut_logical value specifying whether to compare
                                 the number of observations of each of the
                                 data sets
   FORMATS    required 1        ut_logical value specifying whether to compare
                                 the format assignments to variables
   PROCOMPARE required 0        ut_logical value specifying whether to execute
                                 a PROC COMPARE of each of the data sets
                                 in LIB1 and LIB2.  A comparison of the
                                 structure of same-name data sets in LIB1 and
                                 LIB2 is always done.  The PROCOMPARE parameter
                                 specifies whether or not to also compare the
                                 content of same named data sets.
   PRINTEQUAL required 1        ut_logical value specifying whether to print
                                 the names of variables whose attributes
                                 compare equal
   VERBOSE    required 1        ut_logical value specifying whether verbose
                                 mode is on or off
   DEBUG      required 0        ut_logical value specifying whether debug
                                 mode is on or off
 
--------------------------------------------------------------------------------
  Usage Notes:  &lt;Parameter dependencies and additional information for the user&gt;
 
--------------------------------------------------------------------------------
  Assumptions: &lt;Scope and preconditions&gt;
 
--------------------------------------------------------------------------------
  Typical Macro Call(s) and Description:
 
 
--------------------------------------------------------------------------------
                     BROAD-USE MODULE HISTORY
  Ver#  Author           Description
  ----  ---------------  -------------------------------------------------------
  001   &lt;Author's name&gt;  Original version of the broad-use module
 
 **eoh*************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="utcomprc_47"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>utcomprc </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
/*soh===========================================================================
  Eli Lilly and Company
   PROGRAM NAME    : utcomprc.sas            Temporary Object Prefix: none
   PROGRAMMER      : Greg Steffens
   DESCRIPTION     : Puts a message to the log base on the return code from
                      PROC COMPARE
   LANGUAGE/VERSION: SAS/Version 8
   INITIATION DATE : dd mmm yyyy
   VALIDATOR       :
   INPUT FILE(S)   : none
   OUTPUT FILE(S)  : none
   XTRNL PROG CALLS: none
--------------------------------------------------------------------------------
  Parameters:
   Name     Type     Default  Description
   -------- -------- -------- --------------------------------------------------
   BASE     optional base     The base data set name in PROC COMPARE
   COMPARE  optional compare  The compare data set name in PROC COMPARE
   DEBUG    required 0        %ut_logical value specifying whether debug mode is
                               on or off
 
  Usage Notes:
   Call this macro immediately after PROC COMPARE and you will get a summary
   message in the SAS log file describing the results of the comparison.
 
  Future enhancement ideas:
 
--------------------------------------------------------------------------------
                         REVISION HISTORY
================================================================================
  REV#  Date       User ID   Description
  ----  ---------  --------  ---------------------------------------------------
  001   ddmmmyyyy
eoh===========================================================================*/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="varlist_48"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>varlist </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
 
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
<p><a name="wide2thin_49"> </a></p><hr><p><a href="#loc1">Back</a></p><h2>wide2thin </h2><p>Stored in a WIN directory named c:\cdisc_pilot\SAS_Macros\   </p><pre>
  /*soh*************************************************************************
Eli Lilly and Company - Global Statistical Sciences - Broad-Use Module
BROAD-USE MODULE NAME   : wide2thin
TYPE                    : data transformation
DESCRIPTION             : Transforms a short-wide (horizontal) data set into a
                           tall-thin (vertical) data set.  For example vitals
                           into an observat data set.  It can be driven by
                           metadata (preferred) or by a set of macro parameters.
DOCUMENT LIST           : \\spreeprd\genesis\SPREE\QA\
SOFTWARE/VERSION#       : SAS/Version 8 and 9
INFRASTRUCTURE          : MS Windows, MVS, Unix, SDD
BROAD-USE MODULES       : ut_parmdef ut_logical ut_marray
INPUT                   : As defined by the DATA MDLIB and MDPREFIX parameters
OUTPUT                  : As defined by the OUT parameter
VALIDATION LEVEL        : 6
REGULATORY STATUS       : GCP
TEMPORARY OBJECT PREFIX : _wt
--------------------------------------------------------------------------------
Parameters:
Name        Type     Default    Description and Valid Values
----------- -------- ---------- ------------------------------------------------
DATA        required            The name of the input data set that is in a
                                 short-wide (horizontal) structure
OUT         required            The name of the output data set that will be
                                 created in a tall-thin (vertical) structure
MDLIB       optional            The libref where metadata resides
MDPREFIX    optional            The prefix of the metadata members in MDLIB
MDSELECT    optional DATA
PARAM_VAR   optional            The name of the output parameter variable
PARAMRELMAP optional            A map of paramrelcol to its paramrelvars
          inparamvar1: outparamrel1 inparamrelcol1 outparamrel2 inparamrelcol2 |
          inparamvar2: outparamrel1 inparamrelcol3 outparamrel2 inparamrelcol4 |
                                 where
                                 INPARAMVARn    name of variable in input data
                                                set whose name becomes a value
                                                of PARAM_VAR in the output data
                                                set.  This variable is dropped
                                                when creating OUT.  Its value
                                                is assigned to the variable
                                                specified by one of the
                                                following variable pairs.
                                 OUTPARAMRELn   Name of output data set paramrel
                                                variable for the current value
                                                of INPARAMVARn. This variable is
                                                added when creating OUT and gets
                                                it value from INPARAMRECOLn.
                                 INPARAMRELCOLn Name of the input data set
                                                paramrelcol variable whose
                                                value is mapped to the
                                                corresponding OUTPARAMRELn.
                                                This variable is dropped when
                                                creating OUT.
VERBOSE     required 1          %ut_logical value specifying whether verbose
                                 mode is on or off
DEBUG       required 0          %ut_logical value specfifying whether debug
                                 mode is on or off
--------------------------------------------------------------------------------
Usage Notes:
 
--------------------------------------------------------------------------------
Assumptions:
 
--------------------------------------------------------------------------------
Typical Macro Call(s) and Description:
 
--------------------------------------------------------------------------------
     Author &amp;
Ver#  Peer Reviewer   Request #        Broad-Use Module History Description
---- ---------------- ---------------- -----------------------------------------
1.0  Gregory Steffens BMR              Original version of the broad-use module
  **eoh************************************************************************/
</pre><p><a href="#loc1">Back to list of code file names in directory c:\cdisc_pilot\SAS_Macros\ </a></p>
</BODY>
</HTML>

